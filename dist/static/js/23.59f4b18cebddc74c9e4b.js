webpackJsonp([23,61],{"+9Gu":function(t,a){},"5DfD":function(t,a){},"8Wqk":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e("7+uW"),s=e("TXDt"),n=e("36oi"),i=e("VzWM"),o=e("gyMJ"),d=e("X2Oc"),l=(e("miEh"),e("sAS+")),c=e.n(l);r.default.component(c.a.name,c.a);var u={name:"orderAnalyzing",components:{MHeader:s.a,NoData:n.a,OrderSum:i.default},data:function(){return this.chartSettings={metrics:["订单金额"],dimension:["日期"]},this.grid={left:10,right:"28%",top:15,containLabel:!0,x:"15%",y:"15%"},this.width="100%",this.height="100%",this.chartExtend={tooltip:{axisPointer:{type:"line",lineStyle:{color:"rgba(255,255,255,0)"}},confine:!0,formatter:function(t,a,e){var r=Object(d.p)(Object(d.o)(t[0].value)),s=t[0].axisValue,n=t[0].seriesName;return s+"<br>"+t[0].marker+n+"&nbsp;:&nbsp;"+r}},title:{left:20,bottom:23,text:"单位/元",textStyle:{fontSize:10,color:"#BBBBBD"}},legend:{bottom:23,left:80,itemWidth:12,itemHeight:12,data:[{name:"订单金额",textStyle:{fontSize:10,color:"#818d9d"},icon:"roundRect"}]},xAxis:{axisLine:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}},yAxis:{axisLine:{show:!1},splitLine:{show:!1},axisLabel:{show:!0,textStyle:{color:"#BBBBBD",fontSize:"10",textAlign:"center"}}},series:{barCategoryGap:"40%",label:{show:!0,position:"right",textStyle:{color:"#818D9D"},formatter:function(t){return Object(d.p)(Object(d.o)(t.data))}}}},this.width="100%",this.height="100%",this.colors=["#05ACFF"],{barData:{columns:["日期","订单金额"],rows:[]},current:0,tabList:["日报","周报","月报"],infoInform:Object(d.n)("infoInform"),operation:!0,allOrderData:{},orderText:"",orderTrend:""}},mounted:function(){this.ChangeTab(this.current)},methods:{ChangeTab:function(t){this.current=t,this.getData(t),0===t?Object(d.r)("04_02_order_dayly","0"):1===t?Object(d.r)("04_02_order_weekly","0"):Object(d.r)("04_02_order_monthly","0")},goBack:function(){Object(d.r)("04_02_back","1"),this.$router.go(-1)},getData:function(t){var a=this,e={};e.id=this.infoInform.id,e.type=t+1,e.userCenterIdDing=this.infoInform.userCenterId,o.a.orderAnalyse(e,function(e){e.flag&&e.data?(a.operation=!0,a.allOrderData=e.data,a.barData.rows=[],0===t?(a.orderText="昨日("+e.data.dateYesterday+")",a.orderTrend="昨天订单金额比前天",e.data.tendencyList.forEach(function(t,e){var r={"日期":t.dateNum+"日","订单金额":t.totalOrderAmonut};a.$set(a.barData.rows,a.barData.rows.length,r)})):1===t?(a.orderText="上周(第"+e.data.weekofYear+"周("+e.data.weekInterval+"))",a.orderTrend="上周订单金额比第"+e.data.tendencyList[1].dateNum+"周",e.data.tendencyList.forEach(function(t,e){var r={"日期":"第"+t.dateNum+"周\n("+t.weekInterval+")","订单金额":t.totalOrderAmonut};a.$set(a.barData.rows,a.barData.rows.length,r)})):(a.orderText="上月("+e.data.monthofYear+"月)",a.orderTrend=e.data.monthofYear+"月订单金额比"+e.data.tendencyList[1].dateNum+"月",e.data.tendencyList.forEach(function(t,e){var r={"日期":t.dateNum+"月","订单金额":t.totalOrderAmonut};a.$set(a.barData.rows,e,r)}))):(a.operation=!1,Object(d.q)(e.msg))})}}},_={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("div",{staticClass:"flex"},[e("MHeader",{attrs:{headerTitle:"订单分析"},on:{backClick:t.goBack}}),t._v(" "),e("ul",{staticClass:"nav-status"},t._l(t.tabList,function(a,r){return e("li",{key:r,staticClass:"status",on:{click:function(a){return t.ChangeTab(r)}}},[e("span",{staticClass:"bg-color",class:t.current==r?"change-color":""},[t._v(t._s(a))])])}),0)],1),t._v(" "),t.operation?e("div",{staticClass:"main"},[e("div",{staticClass:"tab-bd"},[e("div",{staticClass:"tab-item"},[t._m(0),t._v(" "),e("div",{staticClass:"today-sum-title"},[t._v(t._s(t.orderText)+"订单金额合计")]),t._v(" "),e("div",{staticClass:"today-sum"},[e("i",{staticClass:"icon-rmb"},[t._v("￥")]),t._v(" "),e("em",[t._v(t._s(t._f("numThousand")(t._f("numFilter")(t.allOrderData.totalOrderAmonut?t.allOrderData.totalOrderAmonut:0))))])]),t._v(" "),e("ul",{staticClass:"pay-tab"},[e("li",[e("span",[t._v("付费学校数")]),t._v(" "),e("em",[t._v(t._s(t._f("numThousand")(t.allOrderData.paidSchoolTotal?t.allOrderData.paidSchoolTotal:0)))])]),t._v(" "),e("li",[e("span",[t._v("付费学生数")]),t._v(" "),e("em",[t._v(t._s(t._f("numThousand")(t.allOrderData.paidStudentTotal?t.allOrderData.paidStudentTotal:0)))])]),t._v(" "),e("li",{staticClass:"active"},[e("span",[t._v("付费家长数")]),t._v(" "),e("em",[t._v(t._s(t._f("numThousand")(t.allOrderData.paidParentTotal?t.allOrderData.paidParentTotal:0)))])])]),t._v(" "),t._m(1),t._v(" "),e("OrderSum",{attrs:{allOrderData:t.allOrderData}}),t._v(" "),e("div",{staticClass:"order-trend"},[e("div",{staticClass:"spr-title"},[e("span",{staticClass:"spr-left"},[e("em",[t._v(t._s(0==t.current?"7天订单趋势":1==t.current?"周订单趋势":"月订单趋势"))])])]),t._v(" "),e("div",{staticClass:"day-add"},[e("span",[t._v(t._s(t.orderTrend))]),t._v(" "),e("i",{staticClass:"icon-add",class:t.allOrderData.contrastOrderTendency?"icon-reduce":""}),t._v(" "),e("em",[t._v(t._s(t._f("numThousand")(t._f("numFilter")(t._f("numAbs")(t.allOrderData.contrastOrder)))))]),t._v(" "),e("span",[t._v("元")])]),t._v(" "),e("div",{staticClass:"bar-data"},[e("ve-bar",{staticStyle:{background:"#fff"},attrs:{settings:t.chartSettings,data:t.barData,"judge-width":!0,grid:t.grid,colors:t.colors,width:t.width,height:t.height,extend:t.chartExtend}})],1)])],1)])]):t._e(),t._v(" "),e("no-data",{attrs:{operation:!t.operation}})],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"spr-title"},[a("span",{staticClass:"spr-left"},[a("em",[this._v("订单动态")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"spr-title"},[a("span",{staticClass:"spr-left"},[a("em",[this._v("各类订单汇总")])])])}]};var v=e("VU/8")(u,_,!1,function(t){e("5DfD")},"data-v-1439b89e",null);a.default=v.exports},VzWM:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r={name:"OrderSum",props:{allOrderData:{type:Object,default:function(){return{}}}},data:function(){return{tableData:{}}},watch:{allOrderData:function(t,a){this.tableData=t}}},s={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"grid-container"},[e("table",{staticClass:"spr-grid"},[t._m(0),t._v(" "),e("tr",[e("td",{staticClass:"cur"},[t._v("买券订单")]),t._v(" "),e("td",{staticClass:"active"},[t._v(t._s(t._f("numThousand")(t.tableData.purchaseOrderTotal)))]),t._v(" "),e("td",[t._v(t._s(t._f("numThousand")(t._f("numFilter")(t.tableData.purchaseOrderAmonut))))]),t._v(" "),e("td",[t._v(t._s(t._f("numThousand")(t._f("numFilter")(t.tableData.purchaseOrderGrossProfit))))])]),t._v(" "),e("tr",[e("td",{staticClass:"cur"},[t._v("充值订单")]),t._v(" "),e("td",{staticClass:"active"},[t._v(t._s(t._f("numThousand")(t.tableData.rechargeOrderTotal)))]),t._v(" "),e("td",[t._v(t._s(t._f("numThousand")(t._f("numFilter")(t.tableData.rechargeOrderAmonut))))]),t._v(" "),e("td",[t._v(t._s(t._f("numFilter")(t.tableData.rechargeOrderGrossProfit)))])]),t._v(" "),e("tr",[e("td",{staticClass:"cur"},[t._v("退款订单")]),t._v(" "),e("td",{staticClass:"active"},[t._v(t._s(t._f("numThousand")(t.tableData.refundOrderTotal)))]),t._v(" "),e("td",[t._v(t._s(t._f("numThousand")(t._f("numFilter")(t.tableData.refundOrderAmonut))))]),t._v(" "),e("td",[t._v(t._s(t._f("numThousand")(t._f("numFilter")(t.tableData.refundOrderGrossProfit))))])]),t._v(" "),e("tr",[e("td",{staticClass:"cur"},[t._v("未支付")]),t._v(" "),e("td",{staticClass:"active"},[t._v(t._s(t._f("numThousand")(t.tableData.unpaidOrderTotal)))]),t._v(" "),e("td",[t._v(t._s(t._f("numThousand")(t._f("numFilter")(t.tableData.unpaidOrderAmonut))))]),t._v(" "),e("td",[t._v("--")])])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("thead",[a("th",{staticClass:"line"}),this._v(" "),a("th",{staticClass:"active"},[this._v("订单数量(笔)")]),this._v(" "),a("th",{staticClass:"active"},[this._v("订单金额(元)")]),this._v(" "),a("th",[this._v("毛利(元)")])])}]};var n=e("VU/8")(r,s,!1,function(t){e("+9Gu")},"data-v-04a3c462",null);a.default=n.exports}});