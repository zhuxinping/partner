webpackJsonp([22],{GD0X:function(t,a){},c38F:function(t,a){},l7dZ:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAUCAMAAACOLiwjAAAAYFBMVEUAAACBjZ2BjZ2BjZ2BjZ2BjZ2BjZ2BjZ2BjZ2BjZ2BjZ2BjZ2BjZ2BjZ2BjZ2BjZ2BjZ2BjZ2BjZ2BjZ2BjZ2BjZ2BjZ2BjZ2BjZ2BjZ2BjZ2BjZ2BjZ2BjZ2BjZ2BjZ0G60hKAAAAH3RSTlMA+PDkRdaxlHgtHwnGwFo4zsq3pqOdin1rZF5TIRMSWN5oswAAAGVJREFUGNNNz0cWgCAMBFBpKt3ede5/S1cksJoP75FMEwbX0IlQluBbSM1vHURi9UDPugQ6lpZoPckqhJfkDMxD+kYoQpaY6QuBteQksJV8VGN34KyWu0teIHVVIZf7qS4XDdf+AY/qBSTHZf8JAAAAAElFTkSuQmCC"},"pGW/":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});e("34+y");var s=e("X+yh"),l=e.n(s),i=(e("ehhp"),e("NVmV")),o=e.n(i),n=e("7+uW"),d=e("X2Oc"),r=e("TXDt"),c=e("gyMJ"),v=e("PCIC"),_=e("PPs4"),h=e("KgXo");n.default.component(o.a.name,o.a);var g={name:"FormsDetail",components:{MHeader:r.a,Sheader:v.default,DialogModal:_.a,VLoading:h.a},data:function(){return{loadFlag:1,layerFlag:!1,delayLoad:!1,listData:[],listTeacherData:[],stime:"",jdata:{},pageNo:1,pageSize:20}},methods:{teacherView:function(){Object(d.r)("11_01_click_other_teacher","1");var t=this;c.a.formsTeacherSort({classId:this.jdata.cid,endDate:this.stime.replace(/\//g,"-")},function(a){if(1e4===a.code)if(a.body&&a.body.length){t.layerFlag=!0;var e=[];a.body.forEach(function(t){e.push("<span>"+t.teacherName+"</span>")}),t.listTeacherData=e.join("、")}else l()("暂无数据")})},handleClose:function(){this.$router.push({name:"formsClassList"})},tabData:function(t){this.stime=t,this.pageNo=1,this.loadData()},loadData:function(t){var a=this,e={classId:this.jdata.cid,endDate:this.stime.replace(/\//g,"-"),pageNo:this.pageNo,pageSize:this.pageSize};a.loadFlag=1,a.$refs.loadModel.onchange(),t||(this.listData=[]),c.a.sgjFormsDetail(e,function(e){1e4===e.code&&(e.body&&e.body.result&&e.body.result.length?(a.listData=t?a.listData.concat(e.body.result):e.body.result,e.body.result.length<a.pageSize?(a.loadFlag=1,a.$refs.loadModel.change(),a.delayLoad=!0):(a.loadFlag=0,setTimeout(function(){a.delayLoad=!1},500))):(a.loadFlag=1,a.$refs.loadModel.change(),a.delayLoad=!0))})},loadMore:function(){var t=this,a=document.getElementById("hg");window.addEventListener("scroll",function(){if(t.delayLoad)return!1;var e=a.offsetHeight-70,s=(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)-70;window.scrollY+s>=e&&(t.delayLoad=!0,++t.pageNo,t.loadData(1))},!1)}},created:function(){var t=Object(d.m)("sFormsData");this.jdata="string"==typeof t?JSON.parse(t):t,Object(d.r)("11_01_student_time_list","0")},mounted:function(){this.loadMore()}},j={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"container sgj-ct"},[s("div",{staticClass:"hg",attrs:{id:"hg"}},[s("div",{staticClass:"forms-detail-top"},[s("div",{staticClass:"bgf"},[s("m-header",{attrs:{headerTitle:t.jdata.sgrade?t.jdata.sgrade+"-"+t.jdata.sclass:t.jdata.sclass},on:{backClick:t.handleClose}}),t._v(" "),s("Sheader",{ref:"picker",attrs:{chosenFlag:"0",stitle:"班级时光集情况"},on:{tfd:t.tabData}},[s("ul",{staticClass:"sgj-ct-layer",attrs:{slot:"sgjDialog"},slot:"sgjDialog"},[s("li",{staticClass:"sgj-ct-title"},[t._v("以下为对应班级及学生的相关数据")]),t._v(" "),s("li",[s("p",{staticClass:"raito"},[t._v("老师页面完成占比:")]),t._v("\n\t\t\t\t\t\t\t已完成老师编辑的页面数/需要老师编辑的页面总数\n\t\t\t\t\t\t")]),t._v(" "),s("li",[s("p",{staticClass:"raito"},[t._v("老师完成率:")]),t._v("\n\t\t\t\t\t\t\t已完成老师编辑的页面数/需要老师编辑的页面总数*100%\n\t\t\t\t\t\t")]),t._v(" "),s("li",[s("p",{staticClass:"raito"},[t._v("园长进度:")]),t._v("\n\t\t\t\t\t\t\t每个学生中已完成园长编辑的页面数/需要园长编辑的页面数\n\t\t\t\t\t\t")]),t._v(" "),s("li",[s("p",{staticClass:"raito"},[t._v("老师进度:")]),t._v("\n\t\t\t\t\t\t\t每个学生中已完成老师编辑的页面数/需要老师编辑的页面数\n\t\t\t\t\t\t")]),t._v(" "),s("li",[s("p",{staticClass:"raito"},[t._v("家长进度:")]),t._v("\n\t\t\t\t\t\t\t每个学生中已完成家长编辑的页面数/需要家长编辑的页面数\n\t\t\t\t\t\t")]),t._v(" "),s("li",[s("p",{staticClass:"raito"},[t._v("购买数:")]),t._v("\n\t\t\t\t\t\t\t截止当前购买的时光集数\n\t\t\t\t\t\t")])])]),t._v(" "),s("div",{staticClass:"forms-detail-infos"},[s("ul",[s("li",[s("span",{staticClass:"det-name"},[t._v("老师完成页面占比")]),t._v(" "),s("span",{staticClass:"det-value"},[t._v(t._s(t.jdata.teacherRatio))])]),t._v(" "),s("li",[s("span",{staticClass:"det-name"},[t._v("老师完成率")]),t._v(" "),s("span",{staticClass:"det-value td-svalue"},[s("em",[t._v(t._s(t.jdata.teacherRate))]),t._v(" "),parseFloat(t.jdata.teacherChangeRate)?s("i",{class:parseFloat(t.jdata.teacherChangeRate)>0?"":"sgj-red"},[t._v(t._s(parseFloat(t.jdata.teacherChangeRate)>0?"+":"")+t._s(t.jdata.teacherChangeRate))]):t._e()])])]),t._v(" "),t.jdata.maxTeacherName?s("div",{staticClass:"detail-fin"},[t._v("完成最多的老师:"),s("span",{staticClass:"teacher-name"},[t._v(t._s(t.jdata.maxTeacherName))]),t._v(" "),s("span",{staticClass:"det-view",on:{click:t.teacherView}},[t._v("查看详情"),s("img",{attrs:{src:e("l7dZ"),alt:""}})])]):t._e()])],1)]),t._v(" "),s("dialogModal",{attrs:{isShow:t.layerFlag,btnText:"关闭"},on:{close:function(a){t.layerFlag=!1}}},[s("div",{staticClass:"teacher-sort sgj-ct-layer",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"sgj-ct-title"},[t._v("参与编辑的老师")]),t._v(" "),s("div",{staticClass:"sgj-ct-join"},[t._v("\n\t\t\t\t\t参与时光集编辑的老师如下：\n\t\t\t\t\t"),s("div",{staticClass:"sgj-ct-layer",domProps:{innerHTML:t._s(t.listTeacherData)}})])])]),t._v(" "),s("div",{staticClass:"forms-detail-list bgf"},[s("table",{staticClass:"forms-tab"},[t._m(0),t._v(" "),t._l(t.listData,function(a,e){return s("tr",{key:e},[s("td",[t._v(t._s(a.studentName))]),t._v(" "),s("td",[t._v(t._s(a.leaderCompletedProgress))]),t._v(" "),s("td",[t._v(t._s(a.teacherCompletedProgress))]),t._v(" "),s("td",[t._v(t._s(a.parentCompletedProgress))]),t._v(" "),s("td",[t._v(t._s(a.purchasedNum))])])})],2),t._v(" "),s("v-loading",{directives:[{name:"show",rawName:"v-show",value:t.loadFlag,expression:"loadFlag"}],ref:"loadModel",attrs:{loadingFlag:1}})],1)],1)])},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("th",[t._v("学生姓名")]),t._v(" "),e("th",[t._v("园长进度")]),t._v(" "),e("th",[t._v("老师进度")]),t._v(" "),e("th",[t._v("家长进度")]),t._v(" "),e("th",[t._v("购买数")])])}]};var u=e("VU/8")(g,j,!1,function(t){e("GD0X"),e("c38F")},"data-v-082a0da0",null);a.default=u.exports}});