webpackJsonp([7],{"/vN/":function(e,t,a){var n=a("Icdr"),i=a("/gZK"),o=a("/gxq"),r=a("vXqC"),s=a("wWR3").getPercentWithPrecision,l=a("kQD9"),c=a("5KBG").retrieveRawAttr,h=n.extendSeriesModel({type:"series.pie",init:function(e){h.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(e)},mergeOption:function(e){h.superCall(this,"mergeOption",e),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(e,t){return i(this,["value"])},_createSelectableList:function(){for(var e=this.getRawData(),t=e.mapDimension("value"),a=[],n=0,i=e.count();n<i;n++)a.push({name:e.getName(n),value:e.get(t,n),selected:c(e,n,"selected")});return a},getDataParams:function(e){var t=this.getData(),a=h.superCall(this,"getDataParams",e),n=[];return t.each(t.mapDimension("value"),function(e){n.push(e)}),a.percent=s(n,e,t.hostModel.get("percentPrecision")),a.$vars.push("percent"),a},_defaultLabelLine:function(e){r.defaultEmphasis(e,"labelLine",["show"]);var t=e.labelLine,a=e.emphasis.labelLine;t.show=t.show&&e.label.show,a.show=a.show&&e.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:"outer"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationEasing:"cubicOut"}});o.mixin(h,l);var d=h;e.exports=d},"1A4n":function(e,t,a){var n=a("/gxq"),i=a("0sHC"),o=a("Ylhr");function r(e,t,a,n){var i=t.getData(),o=this.dataIndex,r=i.getName(o),l=t.get("selectedOffset");n.dispatchAction({type:"pieToggleSelect",from:e,name:r,seriesId:t.id}),i.each(function(e){s(i.getItemGraphicEl(e),i.getItemLayout(e),t.isSelected(i.getName(e)),l,a)})}function s(e,t,a,n,i){var o=(t.startAngle+t.endAngle)/2,r=Math.cos(o),s=Math.sin(o),l=a?n:0,c=[r*l,s*l];i?e.animate().when(200,{position:c}).start("bounceOut"):e.attr("position",c)}function l(e,t){i.Group.call(this);var a=new i.Sector({z2:2}),n=new i.Polyline,o=new i.Text;function r(){n.ignore=n.hoverIgnore,o.ignore=o.hoverIgnore}function s(){n.ignore=n.normalIgnore,o.ignore=o.normalIgnore}this.add(a),this.add(n),this.add(o),this.updateData(e,t,!0),this.on("emphasis",r).on("normal",s).on("mouseover",r).on("mouseout",s)}var c=l.prototype;c.updateData=function(e,t,a){var o=this.childAt(0),r=e.hostModel,l=e.getItemModel(t),c=e.getItemLayout(t),h=n.extend({},c);(h.label=null,a)?(o.setShape(h),"scale"===r.getShallow("animationType")?(o.shape.r=c.r0,i.initProps(o,{shape:{r:c.r}},r,t)):(o.shape.endAngle=c.startAngle,i.updateProps(o,{shape:{endAngle:c.endAngle}},r,t))):i.updateProps(o,{shape:h},r,t);var d=e.getItemVisual(t,"color");o.useStyle(n.defaults({lineJoin:"bevel",fill:d},l.getModel("itemStyle").getItemStyle())),o.hoverStyle=l.getModel("emphasis.itemStyle").getItemStyle();var u=l.getShallow("cursor");function g(){o.stopAnimation(!0),o.animateTo({shape:{r:c.r+r.get("hoverOffset")}},300,"elasticOut")}function m(){o.stopAnimation(!0),o.animateTo({shape:{r:c.r}},300,"elasticOut")}u&&o.attr("cursor",u),s(this,e.getItemLayout(t),r.isSelected(null,t),r.get("selectedOffset"),r.get("animation")),o.off("mouseover").off("mouseout").off("emphasis").off("normal"),l.get("hoverAnimation")&&r.isAnimationEnabled()&&o.on("mouseover",g).on("mouseout",m).on("emphasis",g).on("normal",m),this._updateLabel(e,t),i.setHoverStyle(this)},c._updateLabel=function(e,t){var a=this.childAt(1),n=this.childAt(2),o=e.hostModel,r=e.getItemModel(t),s=e.getItemLayout(t).label,l=e.getItemVisual(t,"color");i.updateProps(a,{shape:{points:s.linePoints||[[s.x,s.y],[s.x,s.y],[s.x,s.y]]}},o,t),i.updateProps(n,{style:{x:s.x,y:s.y}},o,t),n.attr({rotation:s.rotation,origin:[s.x,s.y],z2:10});var c=r.getModel("label"),h=r.getModel("emphasis.label"),d=r.getModel("labelLine"),u=r.getModel("emphasis.labelLine");l=e.getItemVisual(t,"color");i.setLabelStyle(n.style,n.hoverStyle={},c,h,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:e.getName(t),autoColor:l,useInsideStyle:!!s.inside},{textAlign:s.textAlign,textVerticalAlign:s.verticalAlign,opacity:e.getItemVisual(t,"opacity")}),n.ignore=n.normalIgnore=!c.get("show"),n.hoverIgnore=!h.get("show"),a.ignore=a.normalIgnore=!d.get("show"),a.hoverIgnore=!u.get("show"),a.setStyle({stroke:l,opacity:e.getItemVisual(t,"opacity")}),a.setStyle(d.getModel("lineStyle").getLineStyle()),a.hoverStyle=u.getModel("lineStyle").getLineStyle();var g=d.get("smooth");g&&!0===g&&(g=.4),a.setShape({smooth:g})},n.inherits(l,i.Group);var h=o.extend({type:"pie",init:function(){var e=new i.Group;this._sectorGroup=e},render:function(e,t,a,i){if(!i||i.from!==this.uid){var o=e.getData(),s=this._data,c=this.group,h=t.get("animation"),d=!s,u=e.get("animationType"),g=n.curry(r,this.uid,e,h,a),m=e.get("selectedMode");if(o.diff(s).add(function(e){var t=new l(o,e);d&&"scale"!==u&&t.eachChild(function(e){e.stopAnimation(!0)}),m&&t.on("click",g),o.setItemGraphicEl(e,t),c.add(t)}).update(function(e,t){var a=s.getItemGraphicEl(t);a.updateData(o,e),a.off("click"),m&&a.on("click",g),c.add(a),o.setItemGraphicEl(e,a)}).remove(function(e){var t=s.getItemGraphicEl(e);c.remove(t)}).execute(),h&&d&&o.count()>0&&"scale"!==u){var p=o.getItemLayout(0),f=Math.max(a.getWidth(),a.getHeight())/2,v=n.bind(c.removeClipPath,c);c.setClipPath(this._createClipPath(p.cx,p.cy,f,p.startAngle,p.clockwise,v,e))}else c.removeClipPath();this._data=o}},dispose:function(){},_createClipPath:function(e,t,a,n,o,r,s){var l=new i.Sector({shape:{cx:e,cy:t,r0:0,r:a,startAngle:n,endAngle:n,clockwise:o}});return i.initProps(l,{shape:{endAngle:n+(o?1:-1)*Math.PI*2}},s,r),l},containPoint:function(e,t){var a=t.getData().getItemLayout(0);if(a){var n=e[0]-a.cx,i=e[1]-a.cy,o=Math.sqrt(n*n+i*i);return o<=a.r&&o>=a.r0}}});e.exports=h},"9Z3y":function(e,t,a){var n=a("wWR3"),i=n.parsePercent,o=n.linearMap,r=a("XhgW"),s=a("/gxq"),l=2*Math.PI,c=Math.PI/180;e.exports=function(e,t,a,n){t.eachSeriesByType(e,function(e){var t=e.getData(),n=t.mapDimension("value"),h=e.get("center"),d=e.get("radius");s.isArray(d)||(d=[0,d]),s.isArray(h)||(h=[h,h]);var u=a.getWidth(),g=a.getHeight(),m=Math.min(u,g),p=i(h[0],u),f=i(h[1],g),v=i(d[0],m/2),y=i(d[1],m/2),S=-e.get("startAngle")*c,_=e.get("minAngle")*c,b=0;t.each(n,function(e){!isNaN(e)&&b++});var w=t.getSum(n),x=Math.PI/(w||b)*2,A=e.get("clockwise"),T=e.get("roseType"),L=e.get("stillShowZeroSum"),D=t.getDataExtent(n);D[0]=0;var I=l,M=0,N=S,C=A?1:-1;if(t.each(n,function(e,a){var n;if(isNaN(e))t.setItemLayout(a,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:A,cx:p,cy:f,r0:v,r:T?NaN:y});else{(n="area"!==T?0===w&&L?x:e*x:l/b)<_?(n=_,I-=_):M+=e;var i=N+C*n;t.setItemLayout(a,{angle:n,startAngle:N,endAngle:i,clockwise:A,cx:p,cy:f,r0:v,r:T?o(e,D,[v,y]):y}),N=i}}),I<l&&b)if(I<=.001){var P=l/b;t.each(n,function(e,a){if(!isNaN(e)){var n=t.getItemLayout(a);n.angle=P,n.startAngle=S+C*a*P,n.endAngle=S+C*(a+1)*P}})}else x=I/M,N=S,t.each(n,function(e,a){if(!isNaN(e)){var n=t.getItemLayout(a),i=n.angle===_?_:e*x;n.startAngle=N,n.endAngle=N+C*i,N+=C*i}});r(e,y,u,g)})}},GfXo:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("TXDt"),i=a("36oi"),o=a("gyMJ"),r=a("X2Oc"),s=a("7+uW"),l=(a("miEh"),a("L0AD")),c=a.n(l),h=a("vXZn"),d=a.n(h);s.default.component(d.a.name,d.a),s.default.component(c.a.name,c.a);var u={name:"gardenAnalyzing",components:{MHeader:n.a,NoData:i.a},data:function(){return this.grid1={left:20,right:20,top:20,bottom:30},this.chartSettings1={metrics:"园所数量",dimension:["园所"]},this.chartExtend1={tooltip:{textStyle:{align:"left"},trigger:"item",formatter:function(e,t,a){var n=Object(r.p)(e.value),i=e.name;return e.marker+i+"&nbsp;:&nbsp;<br>"+n+"("+e.percent+"%)"},confine:!0},color:["#F5A623 ","#00AAFF ","#7ED321"],legend:{orient:"vertical",x:"right",y:"center",align:"left",itemGap:20,height:200,itemWidth:12,itemHeight:12,data:[{name:"正式园",textStyle:{fontSize:12,color:"#818d9d"},icon:"roundRect"},{name:"报备园",textStyle:{fontSize:12,color:"#818d9d"},icon:"roundRect"},{name:"自主注册园",textStyle:{fontSize:12,color:"#818d9d"},icon:"roundRect"}]},series:{type:"pie",label:{show:!1},hoverOffset:3,radius:["45%","65%"],center:["30%","50%"]}},this.chartSettings={metrics:["正式园","报备园","自主注册园"],dimension:["日期"]},this.grid={left:20,right:20,top:20,bottom:30,x:"15%",y:"15%",containLabel:!0},this.width="100%",this.height="100%",this.colors=["#F5A623 ","#00AAFF ","#7ED321"],this.chartExtend={series:{symbol:"circle"},title:{left:20,bottom:5,text:"单位/家",textStyle:{fontSize:10,color:"#BBBBBD"}},tooltip:{textStyle:{align:"left"}},legend:{bottom:5,right:24,itemWidth:12,itemHeight:12,itemGap:8,data:[{name:"正式园",textStyle:{fontSize:10,color:"#818d9d"},icon:"roundRect"},{name:"报备园",textStyle:{fontSize:10,color:"#818d9d"},icon:"roundRect"},{name:"自主注册园",textStyle:{fontSize:10,color:"#818d9d"},icon:"roundRect"}]},xAxis:{axisLine:{show:!0,scale:!1,minInterval:1,lineStyle:{color:"#eee",width:1,type:"solid"}},axisTick:{show:!1},axisLabel:{show:!0,interval:0,textStyle:{color:"#BBBBBD",fontSize:"10"},formatter:function(e){var t="",a=e.length;if(a>4)for(var n=0;n<2;n++){var i=4*n,o=i+4;t+=1===n?e.substring(i,a):e.substring(i,o)+"\n"}else t=e;return t}},splitLine:{show:!0,lineStyle:{width:1,type:"dashed",color:["#eee"]}}},yAxis:{axisLine:{show:!0,lineStyle:{color:"#eee",width:1,type:"solid"}},minInterval:1,axisTick:{show:!1},axisLabel:{show:!0,textStyle:{color:"#BBBBBD",fontSize:"12"}},splitLine:{show:!0,lineStyle:{width:1,type:"solid",color:["#eeeeee"]}}}},{current:0,tabList:["日报","周报","月报"],dayLineData:{columns:["日期","正式园","报备园","自主注册园"],rows:[]},dayRingData:{columns:["园所","园所数量"],rows:[]},infoInform:Object(r.n)("infoInform"),showAlertFlag:!1,listData:{schoolTotal:"",formalschoolchangetotal:"",reportschoolchangetotal:"",reportSchoolTotal:"",formalSchoolTotal:"",registerschoolchangetotal:"",registerSchoolTotal:"",contrastSchool:""},openGardenText:"",openGardenTrend:""}},mounted:function(){Object(r.r)("04_03_customer_dayly","0"),this.ChangeTab(this.current)},methods:{ChangeTab:function(e){this.current=e,0===e?Object(r.r)("04_03_customer_dayly","0"):1===e?Object(r.r)("04_03_customer_weekly","0"):Object(r.r)("04_03_customer_monthly","0"),this.getData(e)},parentRatio:function(){var e=this;this.showAlertFlag=!0,setTimeout(function(){e.showAlertFlag=!1},4e3)},goBack:function(){Object(r.r)("04_03_back","1"),this.$router.go(-1)},getData:function(e){var t=this,a={};a.id=this.infoInform.id,a.userCenterIdDing=this.infoInform.userCenterId,a.type=e+1,o.a.openSchool(a,function(a){a.flag&&a.data?(t.listData=a.data,t.dayLineData.rows=[],t.dayRingData.rows=[{"园所":"正式园","园所数量":a.data.formalSchoolTotal},{"园所":"报备园","园所数量":a.data.reportSchoolTotal},{"园所":"自主注册园","园所数量":a.data.registerSchoolTotal}],a.data.tendencyList.forEach(function(n,i){var o=void 0;0===e?(t.openGardenText="昨日学校总数",t.openGardenTrend="昨天学校总数比前天",o=n.dateNum+"日"):1===e?(t.openGardenText="上周学校总数",t.openGardenTrend="上周学校总数比第"+a.data.tendencyList[1].dateNum+"周",o="第"+n.dateNum+"周\n("+n.weekInterval+")"):(t.openGardenText=a.data.monthofYear+"月学校总数",t.openGardenTrend=a.data.monthofYear+"月学校总数比"+a.data.tendencyList[1].dateNum+"月",o=n.dateNum+"月");var r={"日期":o,"正式园":n.formalSchoolTotal,"报备园":n.reportSchoolTotal,"自主注册园":n.registerSchoolTotal};t.$set(t.dayLineData.rows,a.data.tendencyList.length-i-1,r)})):Object(r.q)(a.msg)})}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"flex"},[a("MHeader",{attrs:{headerTitle:"开园分析"},on:{backClick:e.goBack}}),e._v(" "),a("ul",{staticClass:"nav-status"},e._l(e.tabList,function(t,n){return a("li",{key:n,staticClass:"status",on:{click:function(t){return e.ChangeTab(n)}}},[a("span",{staticClass:"bg-color",class:e.current==n?"change-color":""},[e._v(e._s(t))])])}),0)],1),e._v(" "),a("div",{staticClass:"main"},[a("div",{staticClass:"order-trend"},[a("div",{staticClass:"spr-title"},[a("span",{staticClass:"spr-left"},[a("em",[e._v("开园动态")]),e._v(" "),a("i",{staticClass:"icon-answer",on:{click:e.parentRatio}})])]),e._v(" "),a("div",{staticClass:"day-add"},[a("span",[e._v(e._s(e.openGardenText))]),e._v(" "),a("em",[e._v(e._s(e._f("numThousand")(e.listData.schoolTotal)))]),e._v(" "),a("span",[e._v("家")])]),e._v(" "),a("div",{staticClass:"v-ring"},[a("div",{staticClass:"vr-left"},[a("ve-ring",{ref:"ring0",staticStyle:{background:"#fff"},attrs:{grid:e.grid1,"judge-width":!0,width:e.width,height:e.height,data:e.dayRingData,extend:e.chartExtend1,settings:e.chartSettings1}})],1),e._v(" "),a("div",{staticClass:"vr-right"},[a("ul",[a("li",[a("span",[a("i",{class:e.listData.formalSchoolTendency?"icon-reduce":"icon-add"}),e._v(" "),a("em",[e._v(e._s(e._f("numThousand")(e._f("numAbs")(e.listData.formalschoolchangetotal))))])]),e._v(" "),a("span",[e._v("共"+e._s(e._f("numThousand")(e.listData.formalSchoolTotal))+"家")])]),e._v(" "),a("li",[a("span",[a("i",{class:e.listData.reportSchoolTendency?"icon-reduce":"icon-add"}),e._v(" "),a("em",[e._v(e._s(e._f("numThousand")(e._f("numAbs")(e.listData.reportschoolchangetotal))))])]),e._v(" "),a("span",[e._v("共"+e._s(e._f("numThousand")(e.listData.reportSchoolTotal))+"家")])]),e._v(" "),a("li",[a("span",[a("i",{class:e.listData.registerSchoolTendency?"icon-reduce":"icon-add"}),e._v(" "),a("em",[e._v(e._s(e._f("numThousand")(e._f("numAbs")(e.listData.registerschoolchangetotal))))])]),e._v(" "),a("span",[e._v("共"+e._s(e._f("numThousand")(e.listData.registerSchoolTotal))+"家")])])])])])]),e._v(" "),a("div",{staticClass:"order-trend"},[a("div",{staticClass:"spr-title"},[a("span",{staticClass:"spr-left"},[a("em",[e._v(e._s(0==e.current?"7天开园趋势":1==e.current?"周开园趋势":"月开园趋势"))])])]),e._v(" "),a("div",{staticClass:"day-add"},[a("span",[e._v(e._s(e.openGardenTrend))]),e._v(" "),a("i",{class:e.listData.contrastSchoolTendency?"icon-reduce":"icon-add"}),e._v(" "),a("em",[e._v(e._s(e._f("numThousand")(e._f("numAbs")(e.listData.contrastSchool))))]),e._v(" "),a("span",[e._v("家")])]),e._v(" "),a("div",{staticClass:"chart-line"},[a("ve-line",{staticStyle:{background:"#fff"},attrs:{data:e.dayLineData,"judge-width":!0,grid:e.grid,width:e.width,height:e.height,extend:e.chartExtend,settings:e.chartSettings,colors:e.colors}})],1)])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showAlertFlag,expression:"showAlertFlag"}],staticClass:"alert"},[e._m(0)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("学校总数:")]),this._v(" "),t("li",[this._v("启用的正式园")]),this._v(" "),t("li",[this._v("+审批已通过的报备园")]),this._v(" "),t("li",[this._v("+有用的自注册园(已提交报备的不统计)")])])}]};var m=a("VU/8")(u,g,!1,function(e){a("RSBU")},"data-v-8205031c",null);t.default=m.exports},L0AD:function(e,t,a){"use strict";var n=a("CR8g"),i=a("QHuJ"),o=a("s9il");a("Vb+l");var r,s=(r=a("1KFz"))&&"object"==typeof r&&"default"in r?r.default:r,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=[80,100],h=[20,100];var d=function(e,t,a,r,s){var d=o.cloneDeep(t),u=a.dataType,g=void 0===u?"normal":u,m=a.percentShow,p=a.dimension,f=void 0===p?e[0]:p,v=a.metrics,y=void 0===v?e[1]:v,S=a.roseType,_=void 0!==S&&S,b=a.radius,w=void 0===b?s?_?h:c:100:b,x=a.offsetY,A=void 0===x?200:x,T=a.legendLimit,L=void 0===T?30:T,D=a.selectedMode,I=void 0!==D&&D,M=a.hoverAnimation,N=void 0===M||M,C=a.digit,P=void 0===C?2:C,R=a.legendName,k=void 0===R?{}:R,E=a.label,O=void 0!==E&&E,G=a.level,B=void 0!==G&&G,F=a.limitShowNum,V=void 0===F?0:F,j=a.labelLine,z=a.itemStyle,H=r.tooltipVisible,q=r.legendVisible;return V&&d.sort(function(e,t){return t[y]-e[y]}),{series:function(e){var t=e.innerRows,a=e.dataType,n=e.percentShow,o=e.dimension,r=e.metrics,s=e.radius,c=e.offsetY,h=e.selectedMode,d=e.hoverAnimation,u=e.digit,g=e.roseType,m=e.label,p=e.level,f=e.limitShowNum,v=e.isRing,y=e.labelLine,S=e.itemStyle,_=[],b={},w=[];p?(p.forEach(function(e,t){e.forEach(function(e){i.setArrayValue(b,e,t)})}),t.forEach(function(e){var t=b[e[o]];t&&t.length&&t.forEach(function(t){i.setArrayValue(w,t,e)})})):w.push(t);var x={type:"pie",selectedMode:h,hoverAnimation:d,roseType:g,center:["50%",c]},A=w.length;if(w.forEach(function(e,t){var c=l({data:[]},x),h=s/A;if(t){var d=h+s/(2*A)*(2*t-1),g=d+s/(2*A);c.radius=[d,g]}else c.radius=v?s:h;A>1&&0===t&&(c.label={normal:{position:"inner"}}),m&&(c.label=m),y&&(c.labelLine=y),S&&(c.itemStyle=S),n&&(c.label={normal:{show:!0,position:A>1&&0===t?"inner":"outside",formatter:function(e){var t=[];return t.push(e.name+":"),t.push(i.getFormated(e.value,a,u)),t.push("("+e.percent+"%)"),t.join(" ")}}}),c.data=e.map(function(e){return{name:e[o],value:e[r]}}),_.push(c)}),f&&f<_[0].data.length){var T=_[0].data,L=0;T.slice(f,T.length).forEach(function(e){L+=e.value}),_[0].data=T.slice(0,f),_[0].data.push({name:"其他",value:L})}return _}({innerRows:d,dataType:g,percentShow:m,dimension:f,metrics:y,radius:w,offsetY:A,selectedMode:I,hoverAnimation:N,digit:P,roseType:_,label:O,level:B,legendName:k,limitShowNum:V,isRing:s,labelLine:j,itemStyle:z}),legend:q&&function(e){var t=e.innerRows,a=e.dimension,n=e.legendLimit,i=e.legendName,o=e.level,r=e.limitShowNum,s=[],l=[];if(o)o.forEach(function(e){e.forEach(function(e){l.push(e)})}),s=l;else if(r&&r<t.length){for(var c=0;c<r;c++)s.push(t[c][a]);s.push("其他")}else s=t.map(function(e){return e[a]});return!!s.length&&{data:s,show:s.length<n,formatter:function(e){return null!=i[e]?i[e]:e}}}({innerRows:d,dimension:f,legendLimit:L,legendName:k,level:B,limitShowNum:V}),tooltip:H&&function(e){var t=e.dataType,a=e.innerRows,o=e.limitShowNum,r=e.digit,s=e.metrics,l=e.dimension,c=0,h=a.map(function(e){return c+=e[s],{name:e[l],value:e[s]}}).slice(o,a.length);return{formatter:function(e){var a=[];return a.push(n.itemPoint(e.color)),o&&"其他"===e.name?(a.push("其他:"),h.forEach(function(e){var n=e.name,o=e.value,s=i.getFormated(o/c,"percent");a.push("<br>"+n+":"),a.push(i.getFormated(o,t,r)),a.push("("+s+")")})):(a.push(e.name+":"),a.push(i.getFormated(e.value,t,r)),a.push("("+e.percent+"%)")),a.join(" ")}}}({dataType:g,innerRows:d,limitShowNum:V,digit:P,metrics:y,dimension:f})}},u=function(e,t,a,n){return d(e,t,a,n,!0)},g=l({},s,{name:"VeRing",data:function(){return this.chartHandler=u,{}}});e.exports=g},RSBU:function(e,t){},"Vb+l":function(e,t,a){var n=a("Icdr"),i=a("/gxq");a("/vN/"),a("1A4n");var o=a("XRkS"),r=a("ri8f"),s=a("9Z3y"),l=a("l4Op");o("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),n.registerVisual(r("pie")),n.registerLayout(i.curry(s,"pie")),n.registerProcessor(l("pie"))},XRkS:function(e,t,a){var n=a("Icdr"),i=a("/gxq");e.exports=function(e,t){i.each(t,function(t){t.update="updateView",n.registerAction(t,function(a,n){var i={};return n.eachComponent({mainType:"series",subType:e,query:a},function(e){e[t.method]&&e[t.method](a.name,a.dataIndex);var n=e.getData();n.each(function(t){var a=n.getName(t);i[a]=e.isSelected(a)||!1})}),{name:a.name,selected:i}})})}},XhgW:function(e,t,a){var n=a("3h1/");function i(e,t,a,n,i,o,r){function s(t,a,n,i){for(var o=t;o<a;o++)if(e[o].y+=n,o>t&&o+1<a&&e[o+1].y>e[o].y+e[o].height)return void l(o,n/2);l(a-1,n/2)}function l(t,a){for(var n=t;n>=0&&(e[n].y-=a,!(n>0&&e[n].y>e[n-1].y+e[n-1].height));n--);}function c(e,t,a,n,i,o){for(var r=t?Number.MAX_VALUE:0,s=0,l=e.length;s<l;s++){var c=Math.abs(e[s].y-n),h=e[s].len,d=e[s].len2,u=c<i+h?Math.sqrt((i+h+d)*(i+h+d)-c*c):Math.abs(e[s].x-a);t&&u>=r&&(u=r-10),!t&&u<=r&&(u=r+10),e[s].x=a+u*o,r=u}}e.sort(function(e,t){return e.y-t.y});for(var h,d=0,u=e.length,g=[],m=[],p=0;p<u;p++)(h=e[p].y-d)<0&&s(p,u,-h),d=e[p].y+e[p].height;r-d<0&&l(u-1,d-r);for(p=0;p<u;p++)e[p].y>=a?m.push(e[p]):g.push(e[p]);c(g,!1,t,a,n,i),c(m,!0,t,a,n,i)}function o(e){return"center"===e.position}e.exports=function(e,t,a,r){var s,l,c=e.getData(),h=[],d=!1;c.each(function(a){var i,o,r,u,g=c.getItemLayout(a),m=c.getItemModel(a),p=m.getModel("label"),f=p.get("position")||m.get("emphasis.label.position"),v=m.getModel("labelLine"),y=v.get("length"),S=v.get("length2"),_=(g.startAngle+g.endAngle)/2,b=Math.cos(_),w=Math.sin(_);s=g.cx,l=g.cy;var x="inside"===f||"inner"===f;if("center"===f)i=g.cx,o=g.cy,u="center";else{var A=(x?(g.r+g.r0)/2*b:g.r*b)+s,T=(x?(g.r+g.r0)/2*w:g.r*w)+l;if(i=A+3*b,o=T+3*w,!x){var L=A+b*(y+t-g.r),D=T+w*(y+t-g.r),I=L+(b<0?-1:1)*S;i=I+(b<0?-5:5),o=D,r=[[A,T],[L,D],[I,D]]}u=x?"center":b>0?"left":"right"}var M=p.getFont(),N=p.get("rotate")?b<0?-_+Math.PI:-_:0,C=e.getFormattedLabel(a,"normal")||c.getName(a),P=n.getBoundingRect(C,M,u,"top");d=!!N,g.label={x:i,y:o,position:f,height:P.height,len:y,len2:S,linePoints:r,textAlign:u,verticalAlign:"middle",rotation:N,inside:x},x||h.push(g.label)}),!d&&e.get("avoidLabelOverlap")&&function(e,t,a,n,r,s){for(var l=[],c=[],h=0;h<e.length;h++)o(e[h])||(e[h].x<t?l.push(e[h]):c.push(e[h]));for(i(c,t,a,n,1,0,s),i(l,t,a,n,-1,0,s),h=0;h<e.length;h++)if(!o(e[h])){var d=e[h].linePoints;if(d){var u=d[1][0]-d[2][0];e[h].x<t?d[2][0]=e[h].x+3:d[2][0]=e[h].x-3,d[1][1]=d[2][1]=e[h].y,d[1][0]=d[2][0]+u}}}(h,s,l,t,0,r)}},kQD9:function(e,t,a){var n=a("/gxq"),i={updateSelectedMap:function(e){this._targetList=n.isArray(e)?e.slice():[],this._selectTargetMap=n.reduce(e||[],function(e,t){return e.set(t.name,t),e},n.createHashMap())},select:function(e,t){var a=null!=t?this._targetList[t]:this._selectTargetMap.get(e);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(e){e.selected=!1}),a&&(a.selected=!0)},unSelect:function(e,t){var a=null!=t?this._targetList[t]:this._selectTargetMap.get(e);a&&(a.selected=!1)},toggleSelected:function(e,t){var a=null!=t?this._targetList[t]:this._selectTargetMap.get(e);if(null!=a)return this[a.selected?"unSelect":"select"](e,t),a.selected},isSelected:function(e,t){var a=null!=t?this._targetList[t]:this._selectTargetMap.get(e);return a&&a.selected}};e.exports=i}});