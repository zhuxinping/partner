webpackJsonp([49],{f869:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("7+uW"),n=(i("miEh"),i("vXZn")),a=i.n(n);o.default.component(a.a.name,a.a);var s={name:"livelyLine",props:{current:{type:Number,default:0},listDate:{type:Object},textTitle:""},data:function(){return this.grid={left:20,right:20,top:20},this.width="100%",this.height="100%",{tabs:["活跃数","活跃率"],chartData:{columns:["日期","当日活跃学生数","当日活跃家长数","当日活跃园丁数"],rows:[]},chartSettings:{metrics:["当日活跃学生数","当日活跃家长数","当日活跃园丁数"],dimension:["日期"]},chartSettings1:{metrics:["当日活跃学生率","当日活跃家长率","当日活跃园丁率"],dimension:["日期"],yAxisType:["percent"]},chartExtend:{series:{symbol:"circle"},color:["#F5A623 ","#00AAFF ","#7ED321"],title:{left:"5%",bottom:23,text:"单位/人",textStyle:{fontSize:10,color:"#BBBBBD"}},tooltip:{textStyle:{align:"left"}},legend:{bottom:23,right:"5%",itemWidth:12,itemHeight:12,itemGap:8,tooltip:{show:!0},data:[{name:"当日活跃学生数",textStyle:{fontSize:10,color:"#818d9d"},icon:"roundRect"},{name:"当日活跃家长数",textStyle:{fontSize:10,color:"#818d9d"},icon:"roundRect"},{name:"当日活跃园丁数",textStyle:{fontSize:10,color:"#818d9d"},icon:"roundRect"}]},xAxis:{axisLine:{show:!0,lineStyle:{color:"#eee",width:1,type:"solid"}},axisTick:{show:!1},axisLabel:{show:!0,textStyle:{color:"#BBBBBD",fontSize:"12"}},splitLine:{show:!0,lineStyle:{width:1,type:"dashed",color:["#eee"]}}},yAxis:{axisLine:{show:!0,lineStyle:{color:"#eee",width:1,type:"solid"}},minInterval:1,axisTick:{show:!1},axisLabel:{show:!0,textStyle:{color:"#BBBBBD",fontSize:"12"}},splitLine:{show:!0,lineStyle:{width:1,type:"solid",color:["#eeeeee"]}}}}}},mounted:function(){this.setClass(),this.ChangeTab(this.current)},methods:{setClass:function(){document.body.scrollWidth<=320&&(this.chartExtend={series:{type:"line",symbol:"circle"},color:["#F5A623 ","#00AAFF ","#7ED321"],title:{left:"8%",bottom:40,text:"单位/人",textStyle:{fontSize:9,color:"#BBBBBD"}},tooltip:{textStyle:{align:"left"}},legend:{bottom:20,right:"3%",itemWidth:12,itemHeight:12,itemGap:8,tooltip:{show:!0},data:[{name:"当日活跃学生数",textStyle:{fontSize:9,color:"#818d9d"},icon:"roundRect"},{name:"当日活跃家长数",textStyle:{fontSize:9,color:"#818d9d"},icon:"roundRect"},{name:"当日活跃园丁数",textStyle:{fontSize:9,color:"#818d9d"},icon:"roundRect"}]},xAxis:{axisLine:{show:!0,lineStyle:{color:"#eee",width:1,type:"solid"}},axisTick:{show:!1},axisLabel:{show:!0,textStyle:{color:"#BBBBBD",fontSize:"12"}},splitLine:{show:!0,lineStyle:{width:1,type:"dashed",color:["#eee"]}}},yAxis:{axisLine:{show:!0,lineStyle:{color:"#eee",width:1,type:"solid"}},minInterval:1,axisTick:{show:!1},axisLabel:{show:!0,textStyle:{color:"#BBBBBD",fontSize:"12"}},splitLine:{show:!0,lineStyle:{width:1,type:"solid",color:["#eeeeee"]}}}})},ChangeTab:function(t){this.getData(t),1===t?(this.chartExtend.title.text="单位/%",this.chartData.columns=["日期","当日活跃学生率","当日活跃家长率","当日活跃园丁率"],this.chartSettings1.metrics=["当日活跃学生率","当日活跃家长率","当日活跃园丁率"],this.chartExtend.legend.data=[{name:"当日活跃学生率",textStyle:{fontSize:10,color:"#818d9d"},icon:"roundRect"},{name:"当日活跃家长率",textStyle:{fontSize:10,color:"#818d9d"},icon:"roundRect"},{name:"当日活跃园丁率",textStyle:{fontSize:10,color:"#818d9d"},icon:"roundRect"}]):(this.chartExtend.title.text="单位/人",this.chartSettings.metrics=["当日活跃学生数","当日活跃家长数","当日活跃园丁数"],this.chartExtend.legend.data=[{name:"当日活跃学生数",textStyle:{fontSize:10,color:"#818d9d"},icon:"roundRect"},{name:"当日活跃家长数",textStyle:{fontSize:10,color:"#818d9d"},icon:"roundRect"},{name:"当日活跃园丁数",textStyle:{fontSize:10,color:"#818d9d"},icon:"roundRect"}]),this.$emit("changeCurrent",t)},getData:function(t){var e=this;this.listDate.detailList&&this.listDate.detailList.forEach(function(i,o){var n=void 0;n=1===t?{"日期":i.dateNum+"日","当日活跃学生率":parseFloat(i.currentStudentActiveRatioStr)/100,"当日活跃家长率":parseFloat(i.currentParentActiveRatioStr)/100,"当日活跃园丁率":parseFloat(i.currentTeacherActiveRatioStr)/100}:{"日期":i.dateNum+"日","当日活跃学生数":i.activeThatDayStudent,"当日活跃家长数":i.activeThatDayParent,"当日活跃园丁数":i.activeThatDayTeacher},e.$set(e.chartData.rows,e.listDate.detailList.length-o-1,n)})}}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"order-trend"},[i("div",{staticClass:"spr-title"},[t._m(0),t._v(" "),i("ul",{staticClass:"tab"},t._l(t.tabs,function(e,o){return i("li",{key:o,class:t.current==o?"active":"",on:{click:function(e){return t.ChangeTab(o)}}},[t._v(t._s(e))])}),0)]),t._v(" "),i("div",{staticClass:"tab-db"},[t.current?i("div",{staticClass:"chart-line"},[i("ve-line",{ref:"line0",staticStyle:{background:"#fff"},attrs:{data:t.chartData,"judge-width":!0,grid:t.grid,width:t.width,height:t.height,extend:t.chartExtend,settings:t.chartSettings1}})],1):i("div",{staticClass:"chart-line"},[i("ve-line",{ref:"line1",staticStyle:{background:"#fff"},attrs:{data:t.chartData,"judge-width":!0,grid:t.grid,width:t.width,height:t.height,extend:t.chartExtend,settings:t.chartSettings}})],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"spr-left"},[e("em",[this._v("7天活跃趋势")])])}]};var r=i("VU/8")(s,l,!1,function(t){i("u7Nc")},"data-v-5f3c1a7a",null);e.default=r.exports},u7Nc:function(t,e){}});