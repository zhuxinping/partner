webpackJsonp([68],{kESb:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("7+uW"),n=(i("miEh"),i("vXZn")),a=i.n(n);o.default.component(a.a.name,a.a);var s={name:"activeLine",props:{current:{type:Number,default:0},listDate:{type:Object},textTitle:""},data:function(){return this.grid={left:20,right:20,top:20},this.width="100%",this.height="100%",{tabs:["活跃数","活跃率"],chartData:{columns:["日期","当日活跃学生数","当日活跃家长数","当日活跃园丁数"],rows:[]},chartSettings:{metrics:["当日活跃学生数","当日活跃家长数","当日活跃园丁数"],dimension:["日期"]},chartSettings1:{metrics:["当日活跃学生率","当日活跃家长率","当日活跃园丁率"],dimension:["日期"],yAxisType:["percent"]},chartExtend:{series:{symbol:"circle"},color:["#F5A623 ","#00AAFF ","#7ED321"],title:{left:"5%",bottom:23,text:"单位/人",textStyle:{fontSize:10,color:"#BBBBBD"}},tooltip:{textStyle:{align:"left"}},legend:{bottom:23,right:"5%",itemWidth:12,itemHeight:12,itemGap:8,tooltip:{show:!0},data:[{name:"当日活跃学生数",textStyle:{fontSize:10,color:"#818d9d"},icon:"roundRect"},{name:"当日活跃家长数",textStyle:{fontSize:10,color:"#818d9d"},icon:"roundRect"},{name:"当日活跃园丁数",textStyle:{fontSize:10,color:"#818d9d"},icon:"roundRect"}]},xAxis:{axisLine:{show:!0,lineStyle:{color:"#eee",width:1,type:"solid"}},axisTick:{show:!1},axisLabel:{show:!0,textStyle:{color:"#BBBBBD",fontSize:"12"}},splitLine:{show:!0,lineStyle:{width:1,type:"dashed",color:["#eee"]}}},yAxis:{axisLine:{show:!0,lineStyle:{color:"#eee",width:1,type:"solid"}},minInterval:1,axisTick:{show:!1},axisLabel:{show:!0,textStyle:{color:"#BBBBBD",fontSize:"12"}},splitLine:{show:!0,lineStyle:{width:1,type:"solid",color:["#eeeeee"]}}}}}},mounted:function(){this.setClass(),this.ChangeTab(this.current)},methods:{setClass:function(){document.body.scrollWidth<=320&&(this.chartExtend={series:{type:"line",symbol:"circle"},color:["#F5A623 ","#00AAFF ","#7ED321"],title:{left:"8%",bottom:40,text:"单位/人",textStyle:{fontSize:9,color:"#BBBBBD"}},tooltip:{textStyle:{align:"left"}},legend:{bottom:20,right:"3%",itemWidth:12,itemHeight:12,itemGap:8,tooltip:{show:!0},data:[{name:"当日活跃学生数",textStyle:{fontSize:9,color:"#818d9d"},icon:"roundRect"},{name:"当日活跃家长数",textStyle:{fontSize:9,color:"#818d9d"},icon:"roundRect"},{name:"当日活跃园丁数",textStyle:{fontSize:9,color:"#818d9d"},icon:"roundRect"}]},xAxis:{axisLine:{show:!0,lineStyle:{color:"#eee",width:1,type:"solid"}},axisTick:{show:!1},axisLabel:{show:!0,textStyle:{color:"#BBBBBD",fontSize:"12"}},splitLine:{show:!0,lineStyle:{width:1,type:"dashed",color:["#eee"]}}},yAxis:{axisLine:{show:!0,lineStyle:{color:"#eee",width:1,type:"solid"}},minInterval:1,axisTick:{show:!1},axisLabel:{show:!0,textStyle:{color:"#BBBBBD",fontSize:"12"}},splitLine:{show:!0,lineStyle:{width:1,type:"solid",color:["#eeeeee"]}}}})},ChangeTab:function(t){this.getData(t),1===t?(this.chartExtend.title.text="单位/%",this.chartData.columns=["日期","当日活跃学生率","当日活跃家长率","当日活跃园丁率"],this.chartSettings.metrics=["当日活跃学生率","当日活跃家长率","当日活跃园丁率"],this.chartExtend.legend.data=[{name:"当日活跃学生率",textStyle:{fontSize:10,color:"#818d9d"},icon:"roundRect"},{name:"当日活跃家长率",textStyle:{fontSize:10,color:"#818d9d"},icon:"roundRect"},{name:"当日活跃园丁率",textStyle:{fontSize:10,color:"#818d9d"},icon:"roundRect"}]):(this.chartExtend.title.text="单位/人",this.chartSettings.metrics=["当日活跃学生数","当日活跃家长数","当日活跃园丁数"],this.chartExtend.legend.data=[{name:"当日活跃学生数",textStyle:{fontSize:10,color:"#818d9d"},icon:"roundRect"},{name:"当日活跃家长数",textStyle:{fontSize:10,color:"#818d9d"},icon:"roundRect"},{name:"当日活跃园丁数",textStyle:{fontSize:10,color:"#818d9d"},icon:"roundRect"}]),this.$emit("changeCurrent",t)},getData:function(t){var e=this;this.listDate.list&&this.listDate.list.forEach(function(i,o){var n=void 0;n=1===t?{"日期":i.day+"日","当日活跃学生率":parseFloat(i.currentActiveStudentRatioStr)/100,"当日活跃家长率":parseFloat(i.currentActiveParentsRatioStr)/100,"当日活跃园丁率":parseFloat(i.currentActiveTeacherRatioStr)/100}:{"日期":i.day+"日","当日活跃学生数":i.activeStudent,"当日活跃家长数":i.activeParent,"当日活跃园丁数":i.activeTeacher},e.$set(e.chartData.rows,o,n)})}}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"active"},[i("div",{staticClass:"spr-title"},[i("span",{staticClass:"spr-left"},[i("em",[t._v(t._s(t.textTitle))])]),t._v(" "),i("ul",{staticClass:"tab"},t._l(t.tabs,function(e,o){return i("li",{key:o,class:{active:t.current==o},on:{click:function(e){return t.ChangeTab(o)}}},[t._v(t._s(e))])}),0)]),t._v(" "),i("div",{staticClass:"tab-db"},[1==t.current?i("div",{staticClass:"chart-line"},[i("ve-line",{staticStyle:{background:"#fff"},attrs:{data:t.chartData,"judge-width":!0,grid:t.grid,width:t.width,height:t.height,extend:t.chartExtend,settings:t.chartSettings1}})],1):t._e(),t._v(" "),0==t.current?i("div",{staticClass:"chart-line"},[i("ve-line",{staticStyle:{background:"#fff"},attrs:{data:t.chartData,"judge-width":!0,grid:t.grid,width:t.width,height:t.height,extend:t.chartExtend,settings:t.chartSettings}})],1):t._e()])])},staticRenderFns:[]},c=i("VU/8")(s,l,!1,null,null,null);e.default=c.exports}});