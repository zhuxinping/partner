webpackJsonp([75],{"4BOD":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("TXDt"),a=s("X2Oc"),r=s("gyMJ"),n=s("KgXo"),c={name:"detailRank",components:{MHeader:i.a,VLoading:n.a},data:function(){return{current:0,type:"",time:"",userId:"",timeStr:"",list:[],infoInform:Object(a.n)("infoInform"),loading:!0,rankImg:s("m3Z4")}},beforeRouteEnter:function(t,e,s){t.meta.index=t.params.id,t.meta.type=t.params.type,t.meta.time=t.params.time,t.meta.userId=t.params.userId,t.meta.timeStr=t.params.timeStr,s()},mounted:function(){this.current=~~this.$route.meta.index,this.type=~~this.$route.meta.type,this.time=this.$route.meta.time,this.timeStr=this.$route.meta.timeStr,this.userId=this.$route.meta.userId,this.getData(this.type,this.current)},methods:{goBack:function(){this.$router.go(-1),this.type?this.current?Object(a.r)("07_08_back","1"):Object(a.r)("07_07_back","1"):this.current?Object(a.r)("07_04_back","1"):Object(a.r)("07_03_back","1")},getData:function(t,e){t?e?(Object(a.r)("07_07_history_ranking_monthly_details","0"),this.schoolMonthList()):(Object(a.r)("07_07_history_ranking_monthly_details","0"),this.schoolWeekList()):e?(Object(a.r)("07_04_history_ranking_weekly_details","0"),this.agentMonthList()):(Object(a.r)("07_03_history_ranking_monthly_details","0"),this.agentWeekList())},schoolWeekList:function(){var t=this,e={};e.schoolId=this.userId,e.date=this.time,r.a.getTeacherRankByWeek(e,function(e){"10000"===e.code&&e.body.teachers.length&&(t.list=e.body.teachers,e.body.teachers.forEach(function(t){t.pic=t.pic?t.pic+"?imageView/1/w/160/h/160":Object(a.d)("teacher",t.sexNew)})),t.$refs.loading.change()})},schoolMonthList:function(){var t=this,e={};e.schoolId=this.userId,e.date=this.time,r.a.getTeacherRankByMonth(e,function(e){"10000"===e.code&&e.body.teachers.length&&(t.list=e.body.teachers,e.body.teachers.forEach(function(t){t.pic=t.pic?t.pic+"?imageView/1/w/160/h/160":Object(a.d)("teacher",t.sexNew)})),t.$refs.loading.change()})},agentWeekList:function(){var t=this,e={};e.agentId=this.userId,e.championDate=this.time,r.a.getTeacherRankWeekDetailByAgent(e,function(e){1e4===e.code&&e.body.teachers.length&&(t.list=e.body.teachers,e.body.teachers.forEach(function(t){t.userPic=t.userPic?t.userPic+"?imageView/1/w/160/h/160":t.userPic=Object(a.d)("teacher",t.sexNew)})),t.$refs.loading.change()})},agentMonthList:function(){var t=this,e={};e.agentId=this.userId,e.championDate=this.time,r.a.getTeacherRankMonthDetailByAgent(e,function(e){1e4===e.code&&e.body.teachers.length&&(t.list=e.body.teachers,e.body.teachers.forEach(function(t){t.userPic=t.userPic?t.userPic+"?imageView/1/w/160/h/160":t.userPic=Object(a.d)("teacher",t.sexNew)})),t.$refs.loading.change()})},toDetailRank:function(t,e){this.type?this.current?Object(a.r)("07_04_personal_list","1"):Object(a.r)("07_03_personal_list","1"):this.current?Object(a.r)("07_08_personal_list","1"):Object(a.r)("07_07_personal_list","1");var s=this.type?this.userId:e;this.$router.push({path:"/personRanking/"+this.type+"/"+this.current+"/"+t+"/"+s})},toRule:function(){this.$router.push({path:"/teacherRule"})}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"flex"},[s("m-header",{attrs:{headerTitle:t.timeStr+"排行"},on:{backClick:t.goBack}})],1),t._v(" "),s("ul",{staticClass:"load-list"},[t._l(t.list,function(e,i){return s("li",{key:i,staticClass:"rank-li detail-li",on:{click:function(s){return t.toDetailRank(e.userId,e.schoolId)}}},[s("div",{staticClass:"list-left"},[e.rank<=3&&e.score?s("i",{staticClass:"common",class:1==e.rank?"rank1":2==e.rank?"rank2":3==e.rank?"rank3":""}):s("i",{staticClass:"common"},[t._v(t._s(e.score?e.rank:""))]),t._v(" "),s("img",{staticClass:"avtar-img",attrs:{src:t.type?e.pic:e.userPic,alt:""}}),t._v(" "),s("div",{staticClass:"user-info"},[s("span",{staticClass:"active"},[t._v(t._s(e.name))]),t._v(" "),t.type?s("span",[e.active?e.active&&!e.rank?s("em",[t._v(t._s(t.current?"本月有点懒，还没参与互动":"本周有点懒，还没参与互动"))]):!e.active||e.rank||e.championTimes?e.active&&e.rank&&e.championTimes?s("em",[t._v("共"),s("em",[t._v(t._s(e.championTimes))]),t._v(t._s(t.current?"次荣获本学年月榜冠军":"次荣获本学年周榜冠军"))]):t._e():s("em"):s("em",{staticStyle:{color:"#818D9D"}},[t._v("老师还没有激活，参与不了排行")])]):s("span",{staticClass:"agent-school"},[s("em",[t._v(t._s(e.schoolNumber))]),t._v(" "),s("em",{staticClass:"name-str"},[t._v(t._s(e.schoolName))])])])]),t._v(" "),s("div",{staticClass:"list-right"},[i?t._e():s("span",{staticClass:"top"},[t._v("互动指数 "),s("i",{staticClass:"icon-answer",on:{click:function(e){return e.stopPropagation(),t.toRule(e)}}})]),t._v(" "),s("span",{staticClass:"bom"},[t._v(t._s(e.score))])])])}),t._v(" "),s("v-loading",{ref:"loading",attrs:{loadingFlag:!0}})],2)])},staticRenderFns:[]},h=s("VU/8")(c,o,!1,null,null,null);e.default=h.exports}});