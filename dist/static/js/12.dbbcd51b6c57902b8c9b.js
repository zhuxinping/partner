webpackJsonp([12],{"/Mc7":function(t,e){},"9AMT":function(t,e,a){"use strict";var i=a("X2Oc"),s=a("+aT9"),n=a.n(s),o=void 0,l=1;e.a={data:function(){return{address:""}},beforeCreate:function(){n.a.plugin("AMap.Geocoder",function(){o=new n.a.Geocoder({})})},mounted:function(){this.locationAddress()},methods:{locationAddress:function(){this.address="";var t=this;dd.device.geolocation.get({targetAccuracy:100,coordinate:1,withReGeocode:!0,useCache:!1,onSuccess:function(a){4==~~a.errorCode&&(dd.device.notification.alert({message:"手机定位服务没有开启，请在设置中打开GPS定位服务开关",title:"温馨提示",buttonName:"我知道了"}),t.address="未开启定位权限！"),""!==a.latitude&&""!==a.longitude||Object(i.g)("成功方法钉钉定位错误",a,{}),a.address?(t.address=a.address,clearTimeout(e)):o.getAddress([a.longitude,a.latitude],function(s,n){"complete"===s&&n.regeocode?(t.address=n.regeocode.formattedAddress,t.address||(Object(i.g)("高德错误",a,{}),t.address="获取当前位置失败，请点击这一行,重新获取！"),clearTimeout(e)):Object(i.g)("高德错误",a,{})}),Object(i.m)("longitude",a.longitude),Object(i.m)("latitude",a.latitude)},onFail:function(a){Object(i.g)("失败方法钉钉定位错误",a,{}),4==~~a.errorCode||445==~~a.errorCode?(dd.device.notification.alert({message:"您已禁止授予钉钉 定位 权限，会造成该功能不可用，请到手机的 设置 里找到钉钉这个应用，并授予 定位 权限",title:"温馨提示",buttonName:"我知道了"}),t.address="未开启定位权限！"):l<=3&&(l++,clearTimeout(e),t.locationAddress())}});var e=setTimeout(function(){""===t.address&&(t.address="获取当前位置超时，请点击这一行,重新获取！")},1e4)}}}},Bq99:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAkCAMAAACpD3pbAAABsFBMVEUAAAD97yIoKCgtLS387iEpKSmZdCsqKio7NShAQEAoKCgoKCgoKCgpKSkuLi5GPSg1MSjepC4oKCgqKiouLi6IaisuLigpKSgtLCj97iFSRSkpKSlIRigoKCiBfCYpKSkuKyjXoS4sLCkpKSkpKSkoKCj7ujAsLCw9PT1JSUn87SHsri397iL5ty797yE3MyloYibtsC15XypHRSfo2yIpKSlbWCf97yKYdSvMwSKheytFQib5ty1ZVSdsVikpKSj5ty787iJDOyktKyfRxSS2rCN/ZCpxWyr87yGuhC2QbywzMyk+OzqrgiwpKSn4ty397yLFkitBPTqyhi397yL97yKkmyTZoS9xXC1cVDeBZivxsS0rKyv5ty0qKiqtgy1eTiuTcTFBPDwsLCz/uzP87iH4ti1ZSSnqrC3++sP99YL4uCz5wSr75CP5viz5wyr6xSldTCkwLSj71ib9+Kb882n88lbXoCxxWSlFPCn6zyhAOCj87ib72yX86CL+/vP+/ev88lr88D787zn0sy3ysyzOmSy+jyyxhSuheyuPbithTyr6ySnuvinStSbKwCN0KmlfAAAAZXRSTlMA2rcRxqq/c8oG8uTpfQv9xIyFOiH79e7g187Buq6tpZCOd3BKQjoaDAP08/Lw7+3s5+Pf29ra2djX1NTR0czLx8XCwsC8u7exsK6uqJ2bmJSNiYeBcnBsbGFfW1pVT0RBNDMuDwhFCo8AAAFpSURBVDjLpdNVX8JgFIDxCaKy0d0dYnd3d3fXBkp3251f2YEDN9i44bk8/9973qsD4LMKaDQ2HaCoFpqqd4ibORQsVCBo/nUKZm7z9Xo+f58URToWq3+wq10iE9CLX7JBVS+c7adFYixk0/gEnO+bO8bEo21htxvG9eVX4PlsrRLG53Zwp/+Vw9mEibmeA8d51hqaIg8EDiKxtpwywa3UzR1xO/KStGAshFYitzAx52NgFeMD5UzqvvBzJD6LsVE9Gg4VsBexV2Fczai8uixgX1nsLYtdpdlD4HCoJBMIW96HsWC+oYjTiP/tMKtWcBIuLviabL3IMEMFk5X4EC+japZ2kPJ1NBC1AMxODam6P5F3+wDAHq4jPnKngwmfx4n2FJ8DpKYNeQV5co0SWIJouXg1f/FyA5YBvUs6lnnIkS22mJtwCEfGa0QycU/JD5S1M4Jqj8wGkHYEsk/2dKAQoOhcDUFaEX7yC7DO3xCmB5G1AAAAAElFTkSuQmCC"},EWXG:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAAJ1BMVEUAAAClAAClAACoAAD/AACmAACnAACmAACvAAC2AAClAACnAAClAACbUX3qAAAADHRSTlMA4JkgAYlL9hAHb24JHRBBAAAAeklEQVQY0zXOMQ5AUBCE4Uko9BKVUvkKbiASN1BqlO6gcAqncAkvEYV3KNmxs93mK/7BscOvWDGXerob59WCl9UvhlQ6pAZ5MDKIPYwEIAlIDk4CEkFEEBE8vj3WUlwz2GBLq9jSKmsJ2BL8MwQkgRNBFAikiGVSe6w+ToMxnT4SYbwAAAAASUVORK5CYII="},LhXF:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("mvHQ"),s=a.n(i),n=(a("2EZA"),a("W/os")),o=a.n(n),l=a("7+uW"),c=a("X2Oc"),r=a("gyMJ"),u=a("TXDt"),m=a("OMsH"),d=a("j1Tj"),p=a("9AMT"),g=a("JGtj"),h=a("PJh5"),f=a.n(h);l.default.component(o.a.name,o.a);var v={name:"add-visited",components:{MHeader:u.a,VUpload:m.a,VDictionary:d.a},data:function(){return{jumpUrl:"",strategyFlag:!0,formTab:{businessName:"",businessing:"",likeDu:"",summary:""},schoolName:"",visitedPerson:"",callWay:"上门拜访",callDay:"",summaryLength:0,schoolTypeId:"",wayValue:[],businessingValue:[],likeDuValue:[],businessNameValue:[],infoInform:Object(c.n)("infoInform")?Object(c.n)("infoInform"):{},submitFlag:!0,timeTamp:"",pickerValue:new Date,startDate:new Date("2010-01-01"),endDate:new Date("2030-12-31"),popupVisible:!1,description:"",code:"",titleText:"",dictionaryArray:[],dictionaryIndex:"",pickerFlag:!1,picValueList:[],info:""}},mixins:[p.a,g.a],beforeRouteEnter:function(t,e,a){"Ztvisited"!==e.name&&"ztreportIndex"!==e.name||(t.meta.isBack=!0),e.name?t.meta.info=t.params.info:t.meta.info="null",a()},activated:function(){this.infoInform=Object(c.n)("infoInform"),this.info="null"===this.$route.meta.info?"":JSON.parse(this.$route.meta.info),this.schoolName=this.info.schoolName,this.visitedPerson=this.info.userName,this.submitFlag=!0,this.strategyFlag=!0,this.formTab.businessName=Object(c.m)("businessName")?Object(c.m)("businessName"):"";var t=this.info.schoolType;if(this.schoolTypeId="报备园"===t?1:"正式园"===t?2:"演示园"===t?3:"演示园报备"===t?4:"无效园"===t?5:"异常园"===t?6:"自主注册园"===t?7:"潜在园"===t?8:"报备申请"===t?9:0,this.locationAddress(),this.$route.meta.isBack){for(var e in this.formTab)this.formTab[e]="";this.picValueList=[],this.callWay="上门拜访",this.$refs.upload.photoLength=0,this.callDay=f()().format("MM-DD")+"  "+f()().format("HH:mm"),this.timeTamp=f()().format("YYYY-MM-DD")+" "+f()().format("HH:mm:ss")}this.$route.meta.isBack=!1},mounted:function(){var t=this;this.getInformation(),this.getUrl(),this.callDay=f()().format("MM-DD")+"  "+f()().format("HH:mm"),this.timeTamp=f()().format("YYYY-MM-DD")+" "+f()().format("HH:mm:ss"),this.$nextTick(function(){t.endDate=new Date(f()().add(10,"years").format("YYYY/MM/DD"))})},methods:{timeFilters:function(t){return t=t<10?"0"+t:""+t},getUrl:function(){var t=this,e={};e.userCenterIdDing=this.infoInform.userCenterId,r.a.getStrategy(e,function(e){e.flag&&(t.jumpUrl=e.data)})},handleClose:function(){sessionStorage.clear(),1==~~Object(c.n)("addVisitedPath")?this.$router.push("/report"):this.$router.push("/visited")},changeImg:function(t){this.picValueList=t},seeStrategy:function(){this.jumpUrl?(Object(c.r)("02_01_call_no_noticebar","1"),Object(c.k)(this.jumpUrl)):this.strategyFlag=!1},selectSchoolName:function(){this.photoIng()&&this.$router.push({path:"/selectSchool/1"})},selectPersonName:function(){if(this.photoIng()){if(!this.info)return Object(c.q)("请先选择学校！"),!1;this.$router.push({path:"/selectPop/1/"+s()(this.info)})}},photoIng:function(){var t=!1;return this.picValueList.length&&(this.picValueList.forEach(function(e,a){0===e.picUrl1.length&&(t=!0)}),t&&Object(c.q)("图片正在上传,请稍后再选择联系人！")),t?0:1},visitedDay:function(){this.$refs.picker.open()},handleConfirm:function(t){var e=f()(t).format("MM-DD"),a=f()(new Date).format("YYYY-MM-DD"),i=f()(t).format("YYYY-MM-DD");a===i?(this.callDay=e+" "+this.timeFilters((new Date).getHours())+":"+this.timeFilters((new Date).getMinutes()),this.timeTamp=i+" "+this.timeFilters((new Date).getHours())+":"+this.timeFilters((new Date).getMinutes())+":00"):(this.callDay=e+" 00:00",this.timeTamp=i+" 00:00:00")},getInformation:function(){var t=this;Object(c.f)("VISIT_THE_WAY",1).then(function(e){t.wayValue=e}),Object(c.f)("BUSINESS_INFO_TYPE",1).then(function(e){t.businessingValue=e}),Object(c.f)("INTENTIONALITY",1).then(function(e){t.likeDuValue=e}),Object(c.f)("OPPORTUNITY_NAME",1).then(function(e){t.businessNameValue=e})},commonOpen:function(t){if(this.titleText=t,this.code="code",this.dictionaryIndex=null,"拜访方式"===this.titleText){this.description="name",this.dictionaryArray=this.wayValue;var e=0;this.wayValue.forEach(function(t,a){1===t.code&&(e=a)}),this.dictionaryIndex=Object(c.m)("callWayDefault")?~~Object(c.m)("callWayDefault"):e}else"商机名称"===this.titleText?(this.description="description",this.dictionaryArray=this.businessNameValue,this.dictionaryIndex=Object(c.m)("businessingNameDefault")?~~Object(c.m)("businessingNameDefault"):0):"商机进展"===this.titleText?(this.description="name",this.dictionaryArray=this.businessingValue,this.dictionaryIndex=Object(c.m)("businessingDefault")?~~Object(c.m)("businessingDefault"):0):(this.description="name",this.dictionaryArray=this.likeDuValue,this.dictionaryIndex=Object(c.m)("likeDuDefault")?~~Object(c.m)("likeDuDefault"):0);this.pickerFlag=!0},changeStatus:function(){this.dictionaryIndex=null,this.pickerFlag=!1},sureCommon:function(t,e,a){this.dictionaryIndex=a,"拜访方式"===t?(this.callWay=e[a].name,Object(c.m)("callWayIndex",e[a].code),Object(c.m)("callWayDefault",a.toString())):"商机名称"===t?(this.formTab.businessName=e[a].description,Object(c.m)("businessingNameIndex",e[a].code),Object(c.m)("businessingNameDefault",a.toString())):"商机进展"===t?(this.formTab.businessing=e[a].name,Object(c.m)("businessingIndex",e[a].code),Object(c.m)("businessingDefault",a.toString())):(this.formTab.likeDu=e[a].name,Object(c.m)("likeDuIndex",e[a].code),Object(c.m)("likeDuDefault",a.toString())),this.pickerFlag=!1},submitFrom:function(){var t=this;if(this.submitFlag&&this.validate()){var e=new FormData;e.append("callOnVo.schoolId",this.info.schoolId),e.append("callOnVo.schoolType",this.schoolTypeId),e.append("callOnVo.callOnTime",this.timeTamp),e.append("callOnVo.callOnPersonnel",this.infoInform.agentChildAccount?this.infoInform.agentChildName:this.infoInform.agentName),e.append("callOnVo.processResult",this.formTab.summary);var a=void 0;if(a="获取当前位置超时，请点击这一行,重新获取！"===this.address?"获取当前定位超时！":"获取当前位置失败，请点击这一行,重新获取！"===this.address?"获取当前位置失败!":this.address,e.append("callOnVo.location",a),this.picValueList.length){var i=!1;if(this.picValueList.forEach(function(t,a){0===t.picUrl1.length&&(i=!0),e.append("callOnVo.callOnActionPicList["+a+"].picUrl",t.picUrl1),e.append("callOnVo.callOnActionPicList["+a+"].isFlag",t.isFlag),e.append("callOnVo.callOnActionPicList["+a+"].picType",t.picType)}),i)return void Object(c.q)("图片正在上传,请稍后再提交！")}e.append("callOnVo.businessId",Object(c.m)("businessingIndex")),e.append("callOnVo.intentionality",Object(c.m)("likeDuIndex")),e.append("callOnVo.visitWayId",Object(c.m)("callWayIndex")?Object(c.m)("callWayIndex"):1),e.append("callOnVo.businessOpportunity",Object(c.m)("businessingNameIndex")),e.append("callOnVo.createId",2),e.append("callOnVo.callOnContacts",this.info.userNameBack),e.append("callOnVo.schoolContactsId",this.info.id),e.append("userCenterIdDing",this.infoInform.userCenterId),e.append("callOnVo.longitude",Object(c.m)("longitude")),e.append("callOnVo.latitude",Object(c.m)("latitude")),this.submitFlag=!1,r.a.submitVisited(e,function(a){a.flag?(sessionStorage.clear(),t.$router.push("/visited")):(t.submitFlag=!0,Object(c.q)(a.msg),Object(c.g)("接口错误",a,e))}).catch(function(e){t.submitFlag=!0,Object(c.q)("提交异常，请检查网络或者联系管理员！"),Object(c.g)("catch错误",e,{})})}},cancelFrom:function(){sessionStorage.clear(),1==~~Object(c.n)("addVisitedPath")?this.$router.push("/report"):this.$router.push("/visited")}},watch:{"formTab.summary":function(t,e){this.summaryLength=t.length}}},b={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{staticClass:"flex"},[i("m-header",{attrs:{headerTitle:"新增拜访"},on:{backClick:t.handleClose}}),t._v(" "),t.strategyFlag?i("div",{staticClass:"strategy"},[i("img",{staticClass:"tip",attrs:{src:a("Bq99"),alt:""}}),t._v(" "),i("span",{on:{click:t.seeStrategy}},[t._v("看《开视频园三板斧》，助您收入翻倍...")]),t._v(" "),i("img",{staticClass:"tip_close",attrs:{src:a("EWXG"),alt:""},on:{click:function(e){t.strategyFlag=!1}}})]):t._e()],1),t._v(" "),i("div",{staticClass:"main"},[i("form",{ref:"parent",attrs:{action:"",name:"form"}},[i("ul",{staticClass:"from-table",style:t.strategyFlag?"margin-top:0px":""},[i("li",{staticClass:"table-li"},[i("img",{staticClass:"required",attrs:{src:a("2lpC"),alt:""}}),t._v(" "),i("span",{staticClass:"key-content"},[t._v("学校名称")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.schoolName,expression:"schoolName"}],staticClass:"value-content",attrs:{name:"schoolName",type:"text",readonly:"",placeholder:"请选择学校"},domProps:{value:t.schoolName},on:{click:t.selectSchoolName,input:function(e){e.target.composing||(t.schoolName=e.target.value)}}}),t._v(" "),i("img",{staticClass:"back",attrs:{src:a("CiDD"),alt:""}})]),t._v(" "),i("li",{staticClass:"table-li"},[i("img",{staticClass:"required",attrs:{src:a("2lpC"),alt:""}}),t._v(" "),i("span",{staticClass:"key-content"},[t._v("拜访日期")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.callDay,expression:"callDay"}],staticClass:"value-content",attrs:{name:"visitedDay",type:"text",readonly:""},domProps:{value:t.callDay},on:{click:t.visitedDay,input:function(e){e.target.composing||(t.callDay=e.target.value)}}}),t._v(" "),i("img",{staticClass:"back",attrs:{src:a("CiDD"),alt:""}})]),t._v(" "),i("li",{staticClass:"table-li"},[i("img",{staticClass:"required",attrs:{src:a("2lpC"),alt:""}}),t._v(" "),i("span",{staticClass:"key-content"},[t._v("拜访对象")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.visitedPerson,expression:"visitedPerson"}],staticClass:"value-content",attrs:{name:"visitedPerson",type:"text",readonly:"",placeholder:"请选择联系人"},domProps:{value:t.visitedPerson},on:{click:t.selectPersonName,input:function(e){e.target.composing||(t.visitedPerson=e.target.value)}}}),t._v(" "),i("img",{staticClass:"back",attrs:{src:a("CiDD"),alt:""}})]),t._v(" "),i("li",{staticClass:"table-li"},[i("img",{staticClass:"required",attrs:{src:a("2lpC"),alt:""}}),t._v(" "),i("span",{staticClass:"key-content"},[t._v("拜访方式")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.callWay,expression:"callWay"}],staticClass:"value-content",attrs:{name:"visitedWay",type:"text",readonly:""},domProps:{value:t.callWay},on:{click:function(e){return t.commonOpen("拜访方式")},input:function(e){e.target.composing||(t.callWay=e.target.value)}}}),t._v(" "),i("img",{staticClass:"back",attrs:{src:a("CiDD"),alt:""}})]),t._v(" "),i("li",{staticClass:"table-li"},[i("img",{staticClass:"required",attrs:{src:a("2lpC"),alt:""}}),t._v(" "),i("span",{staticClass:"key-content"},[t._v("商机名称")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.formTab.businessName,expression:"formTab.businessName"}],staticClass:"value-content",attrs:{name:"bussinessName",type:"text",readonly:"",placeholder:"请选择"},domProps:{value:t.formTab.businessName},on:{click:function(e){return t.commonOpen("商机名称")},input:function(e){e.target.composing||t.$set(t.formTab,"businessName",e.target.value)}}}),t._v(" "),i("img",{staticClass:"back",attrs:{src:a("CiDD"),alt:""}})]),t._v(" "),i("li",{staticClass:"table-li"},[i("img",{staticClass:"required",attrs:{src:a("2lpC"),alt:""}}),t._v(" "),i("span",{staticClass:"key-content"},[t._v("商机进展")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.formTab.businessing,expression:"formTab.businessing"}],staticClass:"value-content",attrs:{name:"businessing",type:"text",readonly:"",placeholder:"请选择"},domProps:{value:t.formTab.businessing},on:{click:function(e){return t.commonOpen("商机进展")},input:function(e){e.target.composing||t.$set(t.formTab,"businessing",e.target.value)}}}),t._v(" "),i("img",{staticClass:"back",attrs:{src:a("CiDD"),alt:""}})]),t._v(" "),i("li",{staticClass:"table-li"},[i("img",{staticClass:"required",attrs:{src:a("2lpC"),alt:""}}),t._v(" "),i("span",{staticClass:"key-content"},[t._v("意向度")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.formTab.likeDu,expression:"formTab.likeDu"}],staticClass:"value-content",attrs:{name:"liking",type:"text",readonly:"",placeholder:"请选择"},domProps:{value:t.formTab.likeDu},on:{click:function(e){return t.commonOpen("意向度")},input:function(e){e.target.composing||t.$set(t.formTab,"likeDu",e.target.value)}}}),t._v(" "),i("img",{staticClass:"back",attrs:{src:a("CiDD"),alt:""}})]),t._v(" "),i("li",{staticClass:"table-li table-textarea"},[t._m(0),t._v(" "),i("div",{staticClass:"value-textarea"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formTab.summary,expression:"formTab.summary"}],attrs:{name:"summary",maxlength:"500"},domProps:{value:t.formTab.summary},on:{input:function(e){e.target.composing||t.$set(t.formTab,"summary",e.target.value)}}}),t._v(" "),i("span",{staticClass:"count"},[t._v(t._s(t.summaryLength)+"/500字")])])]),t._v(" "),i("li",{staticClass:"table-li "},[i("img",{staticClass:"required",attrs:{src:a("2lpC"),alt:""}}),t._v(" "),i("div",{staticClass:"value-content value-location"},[i("img",{staticClass:"open-map",attrs:{src:a("IEjN"),alt:"打开高德地图的API"}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"value-content location-content",attrs:{name:"visitedAddress",type:"text",readonly:"",placeholder:"正在获取当前位置..."},domProps:{value:t.address},on:{click:function(e){return t.locationAddress()},input:function(e){e.target.composing||(t.address=e.target.value)}}})])]),t._v(" "),i("li",{staticClass:"table-li table-camera"},[i("v-upload",{ref:"upload",attrs:{picValueList:t.picValueList},on:{change:t.changeImg}})],1)])]),t._v(" "),i("footer",[i("ul",{staticClass:"table-button"},[i("li",{on:{click:t.cancelFrom}},[t._v("取消")]),t._v(" "),i("li",{staticClass:"from",on:{click:t.submitFrom}},[t._v("提交")])])])]),t._v(" "),i("mt-datetime-picker",{ref:"picker",staticClass:"time",attrs:{type:"date",endDate:t.endDate,startDate:t.startDate},on:{confirm:t.handleConfirm},model:{value:t.pickerValue,callback:function(e){t.pickerValue=e},expression:"pickerValue"}}),t._v(" "),i("v-dictionary",{attrs:{type:"1",pickerFlag:t.pickerFlag,code:t.code,keyValue:t.description,titleText:t.titleText,keyArray:t.dictionaryArray,defaultIndex:t.dictionaryIndex},on:{sureData:t.sureCommon,changeStatus:t.changeStatus}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"key-top"},[e("img",{staticClass:"required",attrs:{src:a("2lpC"),alt:""}}),this._v(" "),e("span",{staticClass:"key-content key-span"},[this._v("拜访总结")])])}]},y=a("VU/8")(v,b,!1,null,null,null);e.default=y.exports},OMsH:function(t,e,a){"use strict";var i=a("Gu7T"),s=a.n(i),n=a("X2Oc"),o=(a("v2ns"),a("7QTg")),l=a("cEna"),c=a("mtWM"),r=a.n(c),u={name:"v-upload",components:{swiper:o.swiper,swiperSlide:o.swiperSlide,axios:r.a},props:{picValueList:Array},data:function(){return{progress:[],photoLength:0,sheetVisible:!1,infoInform:Object(n.n)("infoInform")?Object(n.n)("infoInform"):"",imgsFlag:!1,showBigImageFlag:!1,swiperOption:{zoom:!0},previewImg:[],imgData:{accept:"image/gif, image/jpeg, image/png, image/jpg"}}},mounted:function(){this.photoLength=Object(n.m)("picValueList")?Object(n.m)("picValueList").length:0},methods:{showBigImage:function(t){var e=this;this.$set(this.swiperOption,"initialSlide",t),setTimeout(function(){e.showBigImageFlag=!0},10)},closeBigImage:function(){this.showBigImageFlag=!1},deleteImg:function(t,e){this.picValueList.splice(e,1),this.progress.splice(e,1),this.photoLength=this.picValueList.length,this.$emit("change",this.picValueList)},loadFile:function(t){var e=this,i=this,o=t.target.files||t.dataTransfer.files,c=a("rKa9");o.length&&(t.target.values="",(o=[].concat(s()(o))).length>5-this.photoLength?Object(n.q)("照片最多上传五张！"):o.forEach(function(t,a){if(e.imgData.accept.indexOf(t.type)<=0)Object(n.q)("请选择正确的图片格式！");else{var s=new FormData;s.append("uploadify",t),s.append("userCenterIdDing",e.infoInform.userCenterId);var o={};o.picUrl=c,o.isFlag=0,o.picType=0,o.picUrl1="",i.$set(i.picValueList,i.picValueList.length,o),i.photoLength=i.picValueList.length,r.a.post(l.a.GETIMGURL,s,{onUploadProgress:function(t){var e=(t.loaded/t.total*100|0)+"%";i.$set(i.progress,i.picValueList.length-a-1,e)}}).then(function(t){t.data.flag?(i.picValueList[i.picValueList.length-a-1].picUrl=t.data.data+"?imageView/1/w/160/h/160",i.picValueList[i.picValueList.length-a-1].picUrl1=t.data.data):Object(n.q)(t.data.msg)}).catch(function(t){Object(n.g)("catch错误",t,{})})}}),this.$emit("change",this.picValueList))}}},m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload"},[i("span",{staticClass:"businessspan"},[t._v("添加照片("+t._s(t.photoLength)+"/5张)")]),t._v(" "),t.picValueList.length||t.progress.length?i("div",{staticClass:"photoCamera"},t._l(t.picValueList,function(e,s){return i("div",{key:s,staticClass:"progress"},[i("img",{attrs:{src:e.picUrl,alt:""}}),t._v(" "),e.picUrl?i("div",{staticClass:"delete"},[i("p",{staticClass:"showImage",on:{click:function(e){return t.showBigImage(s)}}}),t._v(" "),i("img",{staticClass:"delete1",attrs:{src:a("H1qD"),alt:""},on:{click:function(a){return t.deleteImg(e,s)}}})]):t._e()])}),0):t._e(),t._v(" "),i("div",{staticClass:"progress-outer"},t._l(t.progress,function(t,e){return i("div",{key:e,staticClass:"progress1"},[i("p",{directives:[{name:"show",rawName:"v-show",value:"100%"!=t,expression:"item == '100%'? false:true"}],staticClass:"progress-p",style:"width:"+t})])}),0),t._v(" "),5!=t.picValueList.length?i("div",{staticClass:"camera"},[i("input",{ref:"upload",attrs:{type:"file",id:"file",accept:"image/*",multiple:"",readonly:""},on:{change:t.loadFile}}),t._v(" "),i("img",{attrs:{src:a("/+d3"),alt:""}})]):t._e(),t._v(" "),t.showBigImageFlag?i("div",{staticClass:"closeBigImage",on:{click:t.closeBigImage}},[i("swiper",{staticStyle:{height:"100%"},attrs:{options:t.swiperOption}},t._l(t.picValueList,function(t,e){return i("swiper-slide",{key:e},[i("div",{staticClass:"swiper-zoom-container"},[i("img",{attrs:{src:t.picUrl1,alt:""}})])])}),1)],1):t._e()])},staticRenderFns:[]};var d=a("VU/8")(u,m,!1,function(t){a("/Mc7")},"data-v-27f97bef",null);e.a=d.exports}});