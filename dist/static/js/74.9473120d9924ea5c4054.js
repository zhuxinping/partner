webpackJsonp([74],{KoRq:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("TXDt"),i=n("X2Oc"),s=n("gyMJ"),o=n("KgXo"),r={name:"historyRank",components:{MHeader:a.a,VLoading:o.a},data:function(){return{tabList:["教师周榜","教师月榜"],currentIndex:0,list:[],type:null,infoInform:Object(i.n)("infoInform"),timeRank:""}},beforeRouteEnter:function(t,e,n){t.meta.type=t.params.type,t.meta.schoolId=t.params.schoolId,"ZtteacherRank"===e.name&&(t.meta.index=t.params.index),n()},mounted:function(){this.type=~~this.$route.meta.type,this.currentIndex=~~this.$route.meta.index,this.type?Object(i.r)("07_06_history_weekly_ranking","0"):Object(i.r)("07_02_history_weekly_ranking","0"),this.getData(this.type,this.currentIndex)},methods:{goBack:function(){this.$router.push("/teacherRank/"+this.$route.meta.type+"/"+this.$route.meta.schoolId),"1"===this.type?Object(i.r)("07_06_back","1"):Object(i.r)("07_02_back","1")},ChangeTab:function(t){this.type?t&&Object(i.r)("07_06_history_monthly_ranking","1"):t&&Object(i.r)("07_02_history_monthly_ranking","1"),this.list=[],this.currentIndex=t,this.$route.meta.index=t,this.getData(this.type,t)},getData:function(t,e){t?e?this.schoolMonthRank():this.schoolWeekRank():e?this.agentMonthRank():this.agentWeekRank()},schoolWeekRank:function(){var t=this,e={};e.schoolId=this.$route.meta.schoolId,s.a.getTeacherRankListByWeekWithSchool(e,function(e){"10000"===e.code&&e.body.historyRank.length&&(t.timeRank="周冠军",t.list=e.body.historyRank),t.$refs.loading.change()})},schoolMonthRank:function(){var t=this,e={};e.schoolId=this.$route.meta.schoolId,s.a.getTeacherRankListByMonthWithSchool(e,function(e){"10000"===e.code&&e.body.historyRank.length&&(t.timeRank="月冠军",t.list=e.body.historyRank),t.$refs.loading.change()})},agentWeekRank:function(){var t=this,e={};e.agentId=this.infoInform.id,s.a.getTeacherRankListByWeekWithAgent(e,function(e){1e4===e.code&&e.body.historyRank.length&&(t.timeRank="周冠军",t.list=e.body.historyRank),t.$refs.loading.change()})},agentMonthRank:function(){var t=this,e={};e.agentId=this.infoInform.id,s.a.getTeacherRankListByMonthWithAgent(e,function(e){1e4===e.code&&e.body.historyRank.length&&(t.timeRank="月冠军",t.list=e.body.historyRank),t.$refs.loading.change()})},toDetailRank:function(t,e,n){var a=void 0;this.type?(a=n,this.currentIndex?Object(i.r)("07_06_history_ranking_weekly_details","1"):Object(i.r)("07_06_history_ranking_monthly_details","1")):(a=this.infoInform.id,this.currentIndex?Object(i.r)("07_02_history_ranking_weekly_details","1"):Object(i.r)("07_02_history_ranking_monthly_details","1")),this.$router.push({path:"/detailRank/"+this.currentIndex+"/"+this.type+"/"+e+"/"+a+"/"+t})}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"flex"},[n("m-header",{attrs:{headerTitle:"历史排行"},on:{backClick:t.goBack}}),t._v(" "),n("div",{staticClass:"nav-status"},t._l(t.tabList,function(e,a){return n("li",{key:a,staticClass:"status",on:{click:function(e){return t.ChangeTab(a)}}},[n("span",{staticClass:"bg-color",class:a==t.currentIndex?"change-color":""},[t._v(t._s(e))])])}),0)],1),t._v(" "),n("div",{staticClass:"main"},[t._l(t.list,function(e,a){return n("ul",{key:a,staticClass:"from-table"},[n("li",{staticClass:"table-li history-list",on:{click:function(n){return t.toDetailRank(e.championDateStr,e.championDate,e.schoolId)}}},[n("span",{staticClass:"history-left"},[t._v(t._s(e.championDateStr))]),t._v(" "),n("div",{staticClass:"history-right"},[n("span",{staticClass:"name-str"},[t._v(t._s(t.timeRank)+":"+t._s(e.name))]),t._v(" "),n("i",{staticClass:"icon-right"})])])])}),t._v(" "),n("v-loading",{ref:"loading",attrs:{loadingFlag:!0}})],2)])},staticRenderFns:[]},c=n("VU/8")(r,h,!1,null,null,null);e.default=c.exports}});