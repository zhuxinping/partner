webpackJsonp([6],{"5/bM":function(e,t,n){var a=n("Icdr");n("eQYg"),n("h4VJ");var i=n("ri8f"),o=n("UOrf"),r=n("l4Op");a.registerVisual(i("funnel")),a.registerLayout(o),a.registerProcessor(r("funnel"))},LtjE:function(e,t){},P7ry:function(e,t,n){n("80cc"),n("dp0Z"),n("wLWv"),n("R0U9")},R0U9:function(e,t,n){n("Icdr").registerAction("legendScroll","legendscroll",function(e,t){var n=e.scrollDataIndex;null!=n&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(e){e.setScrollDataIndex(n)})})},UOrf:function(e,t,n){var a=n("1Xuh"),i=n("wWR3"),o=i.parsePercent,r=i.linearMap;e.exports=function(e,t,n){e.eachSeriesByType("funnel",function(e){var n=e.getData(),i=n.mapDimension("value"),l=e.get("sort"),s=function(e,t){return a.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t),c=function(e,t){for(var n=e.mapDimension("value"),a=e.mapArray(n,function(e){return e}),i=[],o="ascending"===t,r=0,l=e.count();r<l;r++)i[r]=r;return"function"==typeof t?i.sort(t):"none"!==t&&i.sort(function(e,t){return o?a[e]-a[t]:a[t]-a[e]}),i}(n,l),d=[o(e.get("minSize"),s.width),o(e.get("maxSize"),s.width)],u=n.getDataExtent(i),p=e.get("min"),h=e.get("max");null==p&&(p=Math.min(u[0],0)),null==h&&(h=u[1]);var g=e.get("funnelAlign"),f=e.get("gap"),b=(s.height-f*(n.count()-1))/n.count(),v=s.y,m=function(e,t){var a,o=n.get(i,e)||0,l=r(o,[p,h],d,!0);switch(g){case"left":a=s.x;break;case"center":a=s.x+(s.width-l)/2;break;case"right":a=s.x+s.width-l}return[[a,t],[a+l,t]]};"ascending"===l&&(b=-b,f=-f,v+=s.height,c=c.reverse());for(var x=0;x<c.length;x++){var I=c[x],y=c[x+1],w=n.getItemModel(I).get("itemStyle.height");null==w?w=b:(w=o(w,s.height),"ascending"===l&&(w=-w));var S=m(I,v),L=m(y,v+w);v+=w+f,n.setItemLayout(I,{points:S.concat(L.slice().reverse())})}!function(e){e.each(function(t){var n,a,i,o,r=e.getItemModel(t),l=r.getModel("label").get("position"),s=r.getModel("labelLine"),c=e.getItemLayout(t),d=c.points,u="inner"===l||"inside"===l||"center"===l;if(u)n="center",o=[[a=(d[0][0]+d[1][0]+d[2][0]+d[3][0])/4,i=(d[0][1]+d[1][1]+d[2][1]+d[3][1])/4],[a,i]];else{var p,h,g,f=s.get("length");"left"===l?(p=(d[3][0]+d[0][0])/2,h=(d[3][1]+d[0][1])/2,a=(g=p-f)-5,n="right"):(p=(d[1][0]+d[2][0])/2,h=(d[1][1]+d[2][1])/2,a=(g=p+f)+5,n="left"),o=[[p,h],[g,h]],i=h}c.label={linePoints:o,x:a,y:i,verticalAlign:"middle",textAlign:n,inside:u}})}(n)})}},djen:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("X2Oc"),i=n("7+uW"),o=n("Icdr");n("4UDB"),n("5/bM"),n("Oq2I"),n("miEh"),n("80cc"),n("P7ry"),i.default.prototype.$echarts=o;var r={name:"activeFunnel",data:function(){return{chart:{}}},props:{id:{type:String},width:{type:String,default:"100%"},height:{type:String,default:"100%"},Title:{type:String},funnelData:{type:Array},funnelDataLabel:{type:Array},studentActivationRatioView:{type:String},studentActiveRatioView:{type:String},teacherActivationRatioView:{type:String},teacherActiveRatioView:{type:String},option:{type:Object,default:function(){return{grid:{left:"8%",right:"8%",bottom:"12%",top:"15%",containLabel:!0},backgroundColor:"#fff",color:["#30abdf","#0ec3a9","#fbb534"],title:{left:"center",top:20,backgroundColor:"#fff",text:"",textStyle:{color:"#333",fontSize:15}},tooltip:{trigger:"item",show:!0,textStyle:{fontSize:14},confine:!0},calculable:!0,series:[{name:"漏斗图",type:"funnel",left:10,top:60,width:"60%",min:0,max:100,minSize:"5%",maxSize:"100%",sort:"descending",gap:2,label:{normal:{position:"right",verticalAlignment:!0,textStyle:{fontSize:14}}},labelLine:{normal:{length:30,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1}},data:[]}]}}}},mounted:function(){this.init()},computed:{style:function(){return{height:this.height,width:this.width}}},methods:{init:function(){var e=this;this.chart=this.$echarts.init(document.getElementById(this.id)),this.chart.setOption(this.option),this.option.series[0].data=this.funnelData,this.option.series[0].name=this.Title,this.option.title.text=this.Title,this.option.tooltip={trigger:"item",show:!0,textStyle:{fontSize:14},confine:!0,formatter:function(t){var n="";switch(t.data.name){case"注册在读学生数":n=t.data.name+"&nbsp;:&nbsp;"+Object(a.p)(e.funnelDataLabel[t.dataIndex].value);break;case"在读激活学生数":n=t.data.name+"&nbsp;:&nbsp;"+Object(a.p)(e.funnelDataLabel[t.dataIndex].value)+"&nbsp;:&nbsp;转化率 : "+e.studentActivationRatioView;break;case"当日活跃学生数":n=t.data.name+"&nbsp;:&nbsp;"+Object(a.p)(e.funnelDataLabel[t.dataIndex].value)+"&nbsp;:&nbsp;转化率 : "+e.studentActiveRatioView;break;case"在读家长数":n=t.data.name+"&nbsp;:&nbsp;"+Object(a.p)(e.funnelDataLabel[t.dataIndex].value);break;case"在读激活家长数":n=t.data.name+"&nbsp;:&nbsp;"+Object(a.p)(e.funnelDataLabel[t.dataIndex].value)+"&nbsp;:&nbsp;转化率 : "+e.teacherActivationRatioView;break;case"当日活跃家长数":n=t.data.name+"&nbsp;:&nbsp;"+Object(a.p)(e.funnelDataLabel[t.dataIndex].value)+"&nbsp;:&nbsp;转化率 : "+e.teacherActiveRatioView}return n}},this.option.series[0].label={normal:{position:"right",textStyle:{fontSize:14},formatter:function(t){var n="";switch(t.data.name){case"注册在读学生数":n=t.data.name+" :\n "+Object(a.p)(e.funnelDataLabel[t.dataIndex].value);break;case"在读激活学生数":n=t.data.name+" :\n "+Object(a.p)(e.funnelDataLabel[t.dataIndex].value)+"\n转化率 : "+e.studentActivationRatioView;break;case"当日活跃学生数":n=t.data.name+" : \n"+Object(a.p)(e.funnelDataLabel[t.dataIndex].value)+"\n转化率 : "+e.studentActiveRatioView;break;case"在读家长数":n=t.data.name+" : \n"+Object(a.p)(e.funnelDataLabel[t.dataIndex].value);break;case"在读激活家长数":n=t.data.name+" : \n"+Object(a.p)(e.funnelDataLabel[t.dataIndex].value)+"\n转化率 : "+e.teacherActivationRatioView;break;case"当日活跃家长数":n=t.data.name+" : \n"+Object(a.p)(e.funnelDataLabel[t.dataIndex].value)+"\n转化率 : "+e.teacherActiveRatioView}return"{center|"+n+"}"},rich:{center:{align:"center",fontSize:"11"}}}},this.chart.setOption(this.option),window.addEventListener("resize",this.chart.resize)}},watch:{funnelData:{handler:function(e,t){if(this.chart)if(this.chart.clear(),e){var n=this;this.$set(this.option.series[0],"data",e),this.$set(this.option.title,"text",this.Title),this.$set(this.option.series[0],"name",this.Title),this.option.tooltip={trigger:"item",show:!0,textStyle:{fontSize:14},confine:!0,formatter:function(e){var t="";switch(e.data.name){case"注册在读学生数":t=e.data.name+"&nbsp;:&nbsp;"+Object(a.p)(n.funnelDataLabel[e.dataIndex].value);break;case"在读激活学生数":t=e.data.name+"&nbsp;:&nbsp;"+Object(a.p)(n.funnelDataLabel[e.dataIndex].value)+"&nbsp;:&nbsp;转化率 : "+n.studentActivationRatioView;break;case"当日活跃学生数":t=e.data.name+"&nbsp;:&nbsp;"+Object(a.p)(n.funnelDataLabel[e.dataIndex].value)+"&nbsp;:&nbsp;转化率 : "+n.studentActiveRatioView;break;case"在读家长数":t=e.data.name+"&nbsp;:&nbsp;"+Object(a.p)(n.funnelDataLabel[e.dataIndex].value);break;case"在读激活家长数":t=e.data.name+"&nbsp;:&nbsp;"+Object(a.p)(n.funnelDataLabel[e.dataIndex].value)+"&nbsp;:&nbsp;转化率 : "+n.teacherActivationRatioView;break;case"当日活跃家长数":t=e.data.name+"&nbsp;:&nbsp;"+Object(a.p)(n.funnelDataLabel[e.dataIndex].value)+"&nbsp;:&nbsp;转化率 : "+n.teacherActiveRatioView}return t}},this.option.series[0].label={normal:{position:"insideRight",textStyle:{fontSize:14},formatter:function(e){var t="";switch(e.data.name){case"注册在读学生数":t=e.data.name+" :\n "+Object(a.p)(n.funnelDataLabel[e.dataIndex].value);break;case"在读激活学生数":t=e.data.name+" :\n "+Object(a.p)(n.funnelDataLabel[e.dataIndex].value)+"\n转化率 : "+n.studentActivationRatioView;break;case"当日活跃学生数":t=e.data.name+" : \n"+Object(a.p)(n.funnelDataLabel[e.dataIndex].value)+"\n转化率 : "+n.studentActiveRatioView;break;case"在读家长数":t=e.data.name+" : \n"+Object(a.p)(n.funnelDataLabel[e.dataIndex].value);break;case"在读激活家长数":t=e.data.name+" : \n"+Object(a.p)(n.funnelDataLabel[e.dataIndex].value)+"\n转化率 : "+n.teacherActivationRatioView;break;case"当日活跃家长数":t=e.data.name+" : \n"+Object(a.p)(n.funnelDataLabel[e.dataIndex].value)+"\n转化率 : "+n.teacherActiveRatioView}return"{center|"+t+"}"},rich:{center:{align:"center",fontSize:"11"}}}},this.chart.setOption(this.option)}else this.$set(this.option.series[0],"data",t),this.$set(this.option.series[0],"name",this.Title),this.chart.setOption(this.option);else this.init()},deep:!0}}},l={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{style:this.style,attrs:{id:this.id}})},staticRenderFns:[]};var s=n("VU/8")(r,l,!1,function(e){n("LtjE")},"data-v-4ba05222",null);t.default=s.exports},dp0Z:function(e,t,n){var a=n("6JAQ"),i=n("1Xuh"),o=i.mergeLayoutParam,r=i.getLayoutParams,l=a.extend({type:"legend.scroll",setScrollDataIndex:function(e){this.option.scrollDataIndex=e},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(e,t,n,a){var i=r(e);l.superCall(this,"init",e,t,n,a),s(this,e,i)},mergeOption:function(e,t){l.superCall(this,"mergeOption",e,t),s(this,this.option,e)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}});function s(e,t,n){var a=[1,1];a[e.getOrient().index]=0,o(t,n,{type:"box",ignoreSize:a})}var c=l;e.exports=c},eQYg:function(e,t,n){var a=n("Icdr"),i=n("/gZK"),o=n("vXqC").defaultEmphasis,r=a.extendSeriesModel({type:"series.funnel",init:function(e){r.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(e)},getInitialData:function(e,t){return i(this,["value"])},_defaultLabelLine:function(e){o(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},getDataParams:function(e){var t=this.getData(),n=r.superCall(this,"getDataParams",e),a=t.mapDimension("value"),i=t.getSum(a);return n.percent=i?+(t.get(a,e)/i*100).toFixed(2):0,n.$vars.push("percent"),n},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}}),l=r;e.exports=l},h4VJ:function(e,t,n){var a=n("0sHC"),i=n("/gxq"),o=n("Ylhr");function r(e,t){a.Group.call(this);var n=new a.Polygon,i=new a.Polyline,o=new a.Text;function r(){i.ignore=i.hoverIgnore,o.ignore=o.hoverIgnore}function l(){i.ignore=i.normalIgnore,o.ignore=o.normalIgnore}this.add(n),this.add(i),this.add(o),this.updateData(e,t,!0),this.on("emphasis",r).on("normal",l).on("mouseover",r).on("mouseout",l)}var l=r.prototype,s=["itemStyle","opacity"];l.updateData=function(e,t,n){var o=this.childAt(0),r=e.hostModel,l=e.getItemModel(t),c=e.getItemLayout(t),d=e.getItemModel(t).get(s);d=null==d?1:d,o.useStyle({}),n?(o.setShape({points:c.points}),o.setStyle({opacity:0}),a.initProps(o,{style:{opacity:d}},r,t)):a.updateProps(o,{style:{opacity:d},shape:{points:c.points}},r,t);var u=l.getModel("itemStyle"),p=e.getItemVisual(t,"color");o.setStyle(i.defaults({lineJoin:"round",fill:p},u.getItemStyle(["opacity"]))),o.hoverStyle=u.getModel("emphasis").getItemStyle(),this._updateLabel(e,t),a.setHoverStyle(this)},l._updateLabel=function(e,t){var n=this.childAt(1),i=this.childAt(2),o=e.hostModel,r=e.getItemModel(t),l=e.getItemLayout(t).label,s=e.getItemVisual(t,"color");a.updateProps(n,{shape:{points:l.linePoints||l.linePoints}},o,t),a.updateProps(i,{style:{x:l.x,y:l.y}},o,t),i.attr({rotation:l.rotation,origin:[l.x,l.y],z2:10});var c=r.getModel("label"),d=r.getModel("emphasis.label"),u=r.getModel("labelLine"),p=r.getModel("emphasis.labelLine");s=e.getItemVisual(t,"color");a.setLabelStyle(i.style,i.hoverStyle={},c,d,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:e.getName(t),autoColor:s,useInsideStyle:!!l.inside},{textAlign:l.textAlign,textVerticalAlign:l.verticalAlign}),i.ignore=i.normalIgnore=!c.get("show"),i.hoverIgnore=!d.get("show"),n.ignore=n.normalIgnore=!u.get("show"),n.hoverIgnore=!p.get("show"),n.setStyle({stroke:s}),n.setStyle(u.getModel("lineStyle").getLineStyle()),n.hoverStyle=p.getModel("lineStyle").getLineStyle()},i.inherits(r,a.Group);var c=o.extend({type:"funnel",render:function(e,t,n){var a=e.getData(),i=this._data,o=this.group;a.diff(i).add(function(e){var t=new r(a,e);a.setItemGraphicEl(e,t),o.add(t)}).update(function(e,t){var n=i.getItemGraphicEl(t);n.updateData(a,e),o.add(n),a.setItemGraphicEl(e,n)}).remove(function(e){var t=i.getItemGraphicEl(e);o.remove(t)}).execute(),this._data=a},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});e.exports=c},wLWv:function(e,t,n){var a=n("/gxq"),i=n("0sHC"),o=n("1Xuh"),r=n("8RN9"),l=i.Group,s=["width","height"],c=["x","y"],d=r.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){d.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new l),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new l),this._showController},resetInner:function(){d.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(e,t,n,o){var r=this;d.superCall(this,"renderInner",e,t,n,o);var l=this._controllerGroup,s=t.get("pageIconSize",!0);a.isArray(s)||(s=[s,s]),u("pagePrev",0);var c=t.getModel("pageTextStyle");function u(e,n){var c=e+"DataIndex",d=i.createIcon(t.get("pageIcons",!0)[t.getOrient().name][n],{onclick:a.bind(r._pageGo,r,c,t,o)},{x:-s[0]/2,y:-s[1]/2,width:s[0],height:s[1]});d.name=e,l.add(d)}l.add(new i.Text({name:"pageText",style:{textFill:c.getTextColor(),font:c.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),u("pageNext",1)},layoutInner:function(e,t,n,r){var l=this.getContentGroup(),d=this._containerGroup,u=this._controllerGroup,p=e.getOrient().index,h=s[p],g=s[1-p],f=c[1-p];o.box(e.get("orient"),l,e.get("itemGap"),p?n.width:null,p?null:n.height),o.box("horizontal",u,e.get("pageButtonItemGap",!0));var b=l.getBoundingRect(),v=u.getBoundingRect(),m=this._showController=b[h]>n[h],x=[-b.x,-b.y];r||(x[p]=l.position[p]);var I=[0,0],y=[-v.x,-v.y],w=a.retrieve2(e.get("pageButtonGap",!0),e.get("itemGap",!0));m&&("end"===e.get("pageButtonPosition",!0)?y[p]+=n[h]-v[h]:I[p]+=v[h]+w);y[1-p]+=b[g]/2-v[g]/2,l.attr("position",x),d.attr("position",I),u.attr("position",y);var S=this.group.getBoundingRect();if((S={x:0,y:0})[h]=m?n[h]:b[h],S[g]=Math.max(b[g],v[g]),S[f]=Math.min(0,v[f]+y[1-p]),d.__rectSize=n[h],m){var L={x:0,y:0};L[h]=Math.max(n[h]-v[h]-w,0),L[g]=S[g],d.setClipPath(new i.Rect({shape:L})),d.__rectSize=L[h]}else u.eachChild(function(e){e.attr({invisible:!0,silent:!0})});var D=this._getPageInfo(e);return null!=D.pageIndex&&i.updateProps(l,{position:D.contentPosition},!!m&&e),this._updatePageInfoView(e,D),S},_pageGo:function(e,t,n){var a=this._getPageInfo(t)[e];null!=a&&n.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:t.id})},_updatePageInfoView:function(e,t){var n=this._controllerGroup;a.each(["pagePrev","pageNext"],function(a){var i=null!=t[a+"DataIndex"],o=n.childOfName(a);o&&(o.setStyle("fill",i?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),o.cursor=i?"pointer":"default")});var i=n.childOfName("pageText"),o=e.get("pageFormatter"),r=t.pageIndex,l=null!=r?r+1:0,s=t.pageCount;i&&o&&i.setStyle("text",a.isString(o)?o.replace("{current}",l).replace("{total}",s):o({current:l,total:s}))},_getPageInfo:function(e){var t=e.get("scrollDataIndex",!0),n=this.getContentGroup(),a=this._containerGroup.__rectSize,i=e.getOrient().index,o=s[i],r=c[i],l=this._findTargetItemIndex(t),d=n.children(),u=d[l],p=d.length,h=p?1:0,g={contentPosition:n.position.slice(),pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!u)return g;var f=I(u);g.contentPosition[i]=-f.s;for(var b=l+1,v=f,m=f,x=null;b<=p;++b)(!(x=I(d[b]))&&m.e>v.s+a||x&&!y(x,v.s))&&(v=m.i>v.i?m:x)&&(null==g.pageNextDataIndex&&(g.pageNextDataIndex=v.i),++g.pageCount),m=x;for(b=l-1,v=f,m=f,x=null;b>=-1;--b)(x=I(d[b]))&&y(m,x.s)||!(v.i<m.i)||(m=v,null==g.pagePrevDataIndex&&(g.pagePrevDataIndex=v.i),++g.pageCount,++g.pageIndex),v=x;return g;function I(e){if(e){var t=e.getBoundingRect(),n=t[r]+e.position[i];return{s:n,e:n+t[o],i:e.__legendDataIndex}}}function y(e,t){return e.e>=t&&e.s<=t+a}},_findTargetItemIndex:function(e){var t,n=this.getContentGroup();return this._showController?n.eachChild(function(n,a){n.__legendDataIndex===e&&(t=a)}):t=0,t}}),u=d;e.exports=u}});