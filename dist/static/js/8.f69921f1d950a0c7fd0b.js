webpackJsonp([8],{"2wg8":function(t,e){},GCLS:function(t,e,a){"use strict";var s={name:"ratioBar",props:{ratio:null,targetValue:null},data:function(){return{}},mounted:function(){var t=this;this.showActivationRatio(),this.$nextTick(function(){t.targetValue>0&&t.targetValue<=1?t.$refs.targetRef.style.left=95*t.targetValue/75+"rem":t.targetValue>1&&t.targetValue<=2?t.$refs.targetRef.style.left=95*(t.targetValue-1)/75+95/75+"rem":t.targetValue>2&&t.targetValue<=3?t.$refs.targetRef.style.left=95*(t.targetValue-2)/75+190/75+"rem":t.targetValue>3&&t.targetValue<=4?t.$refs.targetRef.style.left=95*(t.targetValue-3)/75+3.8+"rem":t.targetValue>4&&t.targetValue<=5?t.$refs.targetRef.style.left=95*(t.targetValue-4)/75+380/75+"rem":t.targetValue>5&&t.targetValue<=6?t.$refs.targetRef.style.left=95*(t.targetValue-5)/75+475/75+"rem":t.targetValue>6&&(t.$refs.targetRef.style.left="7.6rem")})},methods:{showActivationRatio:function(){var t=this;this.ratio>=0&&this.ratio<2?this.$nextTick(function(){t.$refs.ratio.style.background="#F9989E",t.$refs.em.style.backgroundImage="url("+a("Gfl/")+")"}):this.ratio>=2&&this.ratio<4?this.$nextTick(function(){t.$refs.ratio.style.background="#F9CE98",t.$refs.em.style.backgroundImage="url("+a("WLj+")+")"}):this.ratio>=4&&this.$nextTick(function(){t.$refs.ratio.style.background="#98d0f9",t.$refs.em.style.backgroundImage="url("+a("sicS")+")"}),this.$refs.ratio.style.width=95*this.ratio/75+"rem"}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"active-ratio"},[a("div",{staticClass:"grid"},[a("transition",{attrs:{name:"fold-fade",appear:""}},[a("div",{staticClass:"export"},[a("span",{ref:"ratio"},[a("em",{ref:"em"},[t._v(t._s(t._f("numFilter")(t.ratio)))])])])]),t._v(" "),a("i",{staticClass:"zero",class:{active:0===t.targetValue}},[t._v("0")]),t._v(" "),a("i",{staticClass:"one",class:{active:1===t.targetValue}},[t._v("1")]),t._v(" "),a("i",{staticClass:"two",class:{active:2===t.targetValue}},[t._v("2")]),t._v(" "),a("i",{staticClass:"three",class:{active:3===t.targetValue}},[t._v("3")]),t._v(" "),a("i",{staticClass:"four",class:{active:4===t.targetValue}},[t._v("4")]),t._v(" "),a("i",{staticClass:"five",class:{active:5===t.targetValue}},[t._v("5")]),t._v(" "),a("i",{staticClass:"six",class:{active:6===t.targetValue}},[t._v("6")]),t._v(" "),a("em",{ref:"targetRef",staticClass:"target"})],1)])},staticRenderFns:[]};var i=a("VU/8")(s,r,!1,function(t){a("2wg8")},"data-v-fbb2795c",null);e.a=i.exports},"Gfl/":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAzCAMAAADvo9thAAAAZlBMVEUAAAD6mJ76mZ76mJ/6mZ76mZ7/m6P/nqP/nKP6mZ75mZ/6mqD6mZ/6m5/6m6D5mZ76mZ75mZ/6mZ/5mJ75mJ75mZ/7mJ75mqD/mqH/nbH6maD6mJ/6mZ/7mp/7mqH/qr/6mJ/5mJ56h/XeAAAAIXRSTlMA+Ozzo5AeFxLp5F/FNy/bnodl3dWqfCsmDVzuy3Q8BsKD7FzSAAABA0lEQVRIx53WyRKDIBAE0AZRwSVRs++Z///JHDhYJhqZfveuggFmwIzNwzXVzZhb1bjHBuv81QWZCO7q8U/ZZzIj60ssKXIjC0xeYFadyR9ZPRO5OFnhLj8V28qq7VclT1YS2NOkBJUkqYoxU+4k0W6sfSPJGiAaRGGIGW81IRvvVCcqHQCcRekMINeGcgBWG7JAK2otjvrQEQd96IC9PrRH0IcCjD5kqBC1PKoQVMmpw6WuEXNhqadBPULmuRONJfNMC2OaJdWWmQHAjBpmqHHjkx/U/JeA/3yM3xzzvf/aY10/WViNNM8wHmeLVMVdoneJdK8uPtIXVAYTt6PzvC9u5wMxxPEzr9kdLQAAAABJRU5ErkJggg=="},K4ma:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("X2Oc"),r=a("gyMJ"),i=a("GCLS"),o=a("7+uW"),n=a("Icdr");a("Oq2I"),a("miEh"),a("wQkr"),a("Mn6+"),a("p1Ck"),o.default.prototype.$echarts=n;var l={name:"classBar",props:{schoolName:"",activationRatio:{ratio:"",targetValue:""}},components:{ratioBar:i.a},data:function(){return{names:[],values:[],type:[],list:[],average:0,citytop:0,classNum:0,operation:!1}},created:function(){},mounted:function(){this.getData()},methods:{echartsInit:function(t,e,a,r,i){var o=this;a=a||0;var n=Math.max.apply(null,e),l={color:["#3398DB"],grid:{left:"3%",right:"17%",bottom:"7%",containLabel:!0},xAxis:[{type:"category",data:t,axisTick:{show:!1,alignWithLabel:!0},axisLabel:{interval:0,fontSize:10,color:"#818D9D",padding:[2,0,0,0]},axisLine:{lineStyle:{color:"#eee",type:"dashed"}}}],yAxis:[{type:"value",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#818D9D"},max:n=Object(s.a)(Math.max(n,r)),splitLine:{show:!0,lineStyle:{color:"#eee",type:"dashed"}},splitNumber:5,maxInterval:Number((n/5).toFixed(1))}],dataZoom:[{startValue:0,endValue:4,type:"slider",show:!1,zoomLock:!0},{type:"inside",show:!0,zoomLock:!0,xAxisIndex:[0],startValue:0,endValue:4,preventDefaultMouseMove:!1}],series:[{name:"直接访问",type:"bar",z:10,barWidth:"20",data:e,markArea:{silent:!0,itemStyle:{color:"rgba(255,239,240,1)"},data:[[{yAxis:"0"},{yAxis:a}]]},itemStyle:{normal:{color:function(t){return 0===i[t.dataIndex]?new o.$echarts.graphic.LinearGradient(0,1,0,0,[{offset:0,color:"#FF758B"},{offset:1,color:"#FF91A1"}],!1):1===i[t.dataIndex]?new o.$echarts.graphic.LinearGradient(0,1,0,0,[{offset:0,color:"#FF8F53"},{offset:1,color:"#FFB994"}],!1):2===i[t.dataIndex]?new o.$echarts.graphic.LinearGradient(0,1,0,0,[{offset:0,color:"#50C5FF"},{offset:1,color:"#73D1FD"}],!1):3===i[t.dataIndex]?new o.$echarts.graphic.LinearGradient(0,1,0,0,[{offset:0,color:"#C7DD29"},{offset:1,color:"#D3E45F"}],!1):void 0},barBorderRadius:[4,4,0,0]},emphasis:{barBorderRadius:1}},markLine:{symbolSize:[0,0],lineStyle:{normal:{type:"dashed",color:"#FFB0B5"}},data:[{name:"平均线",yAxis:r,label:{position:"end",color:"#00AAFF",formatter:function(){return"全市最高"}}},{name:"987987",label:{position:"end",color:"#818D9D",formatter:function(){return r-a<1?"\n\n\n当前":"当前"}},yAxis:a}]}}]};this.$echarts.init(document.getElementById("main")).setOption(l)},seeActiveReport:function(){0!==this.list.length&&(Object(s.r)("09_02_linkto_activation_ratio_class","1"),this.$router.push({path:"/reportActiveClassRoom/"+this.schoolName+"/"+this.$route.meta.schoolId+"/"+this.activationRatio.ratio}))},getData:function(){var t=this,e={};e.schoolId=this.$route.meta.schoolId,r.a.getSchoolActive(e,function(e){1e4===e.code&&(t.citytop=e.body.topValue?Object(s.o)(e.body.topValue):0,t.average=e.body.dataValue,t.classNum=e.body.difference,0!==e.body.list.length?(t.list=e.body.list,t.list.map(function(e,a){e.gradeName.length>5&&(e.gradeName=e.gradeName.substr(0,4)),e.className.length>5&&(e.className=e.className.substr(0,4)),t.names.push(e.gradeName+"\n"+e.className),t.values.push(e.dataValue),t.type.push(e.type)}),t.echartsInit(t.names,t.values,t.average,t.citytop,t.type)):(t.operation=!0,t.$emit("change")))})}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("ratioBar",{attrs:{ratio:t.activationRatio.ratio,targetValue:t.activationRatio.targetValue}}),t._v(" "),a("div",{staticClass:"tip"},[t._v("当前学校学生平均有"),a("em",[t._v(t._s(t._f("numFilter")(t.average)))]),t._v("个家长关注，全市最高"),a("em",[t._v(t._s(t.citytop?t.citytop:"-"))]),t._v("，还有"),a("em",[t._v(t._s(t._f("numThousand")(t.classNum)))]),t._v("个班级没有达到，快提醒老师邀请家长关注")]),t._v(" "),t.operation?t._e():a("div",{staticClass:"bar-data",on:{click:t.seeActiveReport}},[a("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"main"}})]),t._v(" "),t.operation?a("dl",{staticClass:"no-number"},[a("dd"),t._v(" "),a("dt",[t._v("暂无数据")])]):t._e()],1)},staticRenderFns:[]};var u=a("VU/8")(l,c,!1,function(t){a("mW77")},"data-v-11056411",null);e.default=u.exports},"WLj+":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAzCAMAAADvo9thAAAAbFBMVEUAAAD6z5n6z5j6z5n6z5n/1Z76z5n6z5n6z5j6z5n6z5r60Zv6z5v5z5n5z5n6z5n50Jn/0Zz/2aD6zpn6zpn5z5j5z5j5z5n70Jj50Jr/0Jr/0Zv/1pn/z5/60Jn5zpj7z5r70Zr6zpj5zphnqPrEAAAAI3RSTlMA7/WjkBXG6fllXzcv5duehxsL++vd1ap8KyYhGRBc4nQ8wqmW6WYAAAEHSURBVEjHndZZcoMwEATQFgKJxTabdxsvmfvfMR9RisQGo+n331UgzSJMWD2su5u+N3dnHyssG27Wyz/e3gZ8kjVGJpgmw5w2TWRGkraYVIbITKzEu87KAtu9ndhGFm1eTvJkJII54Y/LWqKsL2PmupNIuyt+OYnmEBSiUIQyMJqQ+SmOWlRqADiL0hlAqg2lALba0BaoRK3CUR864qAPHbDXh/bw+pBHrg/lVIj6POogqCOnLpcqI6ZgqdagmpBpd2KwJBkzwphhSY1lZgEwq4ZZatz65Bc1/yTgHx/jMyd5/f9ywLKml1FeIM7Tj9dZIVbrQuYrQ7yuDk2qU/SSl9B6utnf+QaNMABBo4UcBwAAAABJRU5ErkJggg=="},mW77:function(t,e){},sicS:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAzCAMAAADvo9thAAAAbFBMVEUAAACZ0fqY0fqZ0fqZ0fqb1P+b0vuc3P+Z0PqZ0fmZ0PqY0fqZ0fqZ0PmZ0Pqa0vqh0v+Z0PqZ0fqY0fmY0PmZ0fmZ0vmY0vua1fqa1fma0P+b0f+d2P+Z0vuZ0vqZ0fqd1Pqq6/+Z0fmY0PnIWdIJAAAAI3RSTlMA7/ejkBo4EuvkxfNj255eFvvp3dWqh3wwKyYhDXFcyy8GhVuqfYoAAAEKSURBVEjHndbnjsIwEATgsZ2ekAaEGsrt+7/jCR2nAEqwd77/I8XOFmPGbXRFbrrO5IUbb/BLL66XN727pPimHYzMMEOLJXFkZYGNYsxqSvmibGYiZyce7owP+5V4rfZ4czASwBzw4pRLkPw0ZeK1BFpPl1hIsAJPlShUz8oxmpBJ8VCLSg0AR1E6Aoi0oQhApg1lQCJqCXb60A5bfWiLjT60QaYPZbD6kKVCzOf11EVQV079XKqMmIKlWoNqQqbdicFSpswIY4YlNZaZBcCsGmapMeuTWNTMk0D7+CiH1vfMsZ/nb1L4/XQysRXCJP30OxOEiq//pdYi3L3+a9I7VMbucRyt5Lp4nF/19QAk9aEofgAAAABJRU5ErkJggg=="}});