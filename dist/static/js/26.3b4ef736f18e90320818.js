webpackJsonp([26],{JITG:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAMAAABG8BK2AAAAmVBMVEUAAADx8fHx8fHx8fHx8fHw8PD29vbw8PDy8vLy8vL09PT09PTw8PDx8fHy8vLx8fHy8vLx8fHz8/Py8vLy8vL29vbx8fHx8fHx8fHy8vLx8fHw8PDv7+/s7Ozn5+fNzc7AwMG7u73U1NXJycrExMXGxsjf3+C8vL7d3d3BwcK+vsDp6enb29vk5OXj4+PW1tfQ0NHLy8zY2NlDVTMbAAAAG3RSTlMA/Pnu6PUg4lVCMCvyeHBpYUk8NyUb3ttcTn6JPyJAAAACJElEQVRYw63U2ZabMBAE0Mq+73u0IYHAAgzY//9xERDSZ5wZgU3XC2/3VBcH8FtwBDwOgHccDI8DHgc8Dua8Z2AYHPA44HFA+SBSaVSS2eoYr0Szxqw7yvshyBSz7nTD+eysLdNtKB/FvSld3wbrvUowKYcyVIX2pzWGnEf/rRJ30X3VmVJpp4RMMAlHhoNwWXcUQxs93wW9icHPC6esRkcLVXZl3NnIFLPudMEPrrL37owVx/SH8rj0Ebo+eU/OCoOXiyONz7Jh6aNro08q7zYx5FBaO+3s5MEkXnjSiZOqIvy9q83nkvqCWXdOpSoKNd0VZNePSl5FMcmQ83j5oKq6UPP7auZ6edCGnDSDX4ujz1FxOjqL0gh510HaoRRt7NNMio3lLhxsdXInxKwEnY+Os+SkGXwiZzDTo/HjRdHpbWvIwVbHeRFT1jaXY6XMtnQXMatOE0uUxg5NMTrOBtqHmE13ZdZ3Qqjo9PY87SOzILcxePVsYdpx4tEJ40XRkaY+UpttDsXZQorROUWFmCud3vbTPqqOCjEbHVLaaR+6iJgtDinTzqRsZvCZdm7nnStSiFl33tL/RwtBFxFzpXPINCnEXO2YKovKjQy+UJ+hEQlmzXkiHgp4HPA4uC6vH3DA44DHAY8DHgc35M3TBLPLAY8DHgc8Dm7N1zsOeBzscF6wMNFhYfD8nwMeBzwO9jrfidnvgMfB/nz7ERkeBzwOeJw/bTMMWj96VBMAAAAASUVORK5CYII="},"ig+j":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("mvHQ"),o=s.n(a),i=(s("ehhp"),s("NVmV")),n=s.n(i),c=s("7+uW"),l=s("X2Oc"),r=s("gyMJ"),h=s("TXDt"),d=s("KgXo");c.default.component(n.a.name,n.a);var u={name:"select-school",components:{MHeader:h.a,VLoading:d.a},data:function(){return{searchSchoolName:"",list:[],infoInform:Object(l.n)("infoInform"),page:1,pageSize:10,delayLoad:!1,switch:!0,requestTag:!0,alertFlag:!1,defaultImg:s("et/q")}},beforeRouteEnter:function(t,e,s){t.meta.type=t.params.type,s()},mounted:function(){this.getData(),document.getElementById("searchSchool").addEventListener("input",Object(l.e)(this.searchSchool,300),!1)},methods:{handleClose:function(){1==~~this.$route.meta.type?this.$router.push({path:"/visitedAdd/null"}):2==~~this.$route.meta.type?this.$router.push({path:"/addSmartOrder/null"}):3==~~this.$route.meta.type?this.$router.push({path:"/formsSchoolList"}):this.$router.push({path:"/backvisitedAdd/null"})},loadMore:function(){if(this.delayLoad)return!1;this.delayLoad=!0,this.getData(),this.$refs.loading.onchange()},loadTop:function(){this.page=1,this.getData(1),this.$refs.loading.onchange()},handleTopChange:function(t){var e=this;this.switch=!1,setTimeout(function(){e.$refs.loadmore&&e.$refs.loadmore.onTopLoaded()},3e3)},selectSchool:function(t,e,s){var a=this;if(this.switch){var i={};if(i.schoolId=t,i.schoolType=e,i.schoolName=s,1==~~this.$route.meta.type){var n={};n.schoolId=t,n.userCenterIdDing=this.infoInform.userCenterId,r.a.getHistoryBusiness(n,function(t){t.flag?t.msg&&"null"!==t.msg?Object(l.f)("OPPORTUNITY_NAME",1).then(function(e){var s=!0;e.forEach(function(e,n){t.msg&&~~t.msg===e.code&&(s=!1,Object(l.m)("businessingNameDefault",n.toString()),Object(l.m)("businessingNameIndex",e.code),Object(l.m)("businessName",e.description),a.$router.push({path:"/visitedAdd/"+o()(i)}))}),s&&(Object(l.l)("businessingNameDefault"),Object(l.l)("businessName"),a.$router.push({path:"/visitedAdd/"+o()(i)}))}):(Object(l.l)("businessingNameDefault"),Object(l.l)("businessName"),a.$router.push({path:"/visitedAdd/"+o()(i)})):(Object(l.q)(t.msg),Object(l.g)("接口错误",t,n))})}else 2==~~this.$route.meta.type?this.$router.push({path:"/addSmartOrder/"+o()(i)}):3==~~this.$route.meta.type?this.$router.push({name:"formsSchoolList",query:{schoolName:s,schoolId:t}}):this.$router.push({path:"/backvisitedAdd/"+o()(i)})}},searchSchool:function(){this.page=1,this.getData(1),this.$refs.loading.onchange()},getData:function(t){var e=this,a={"agentUser.id":this.infoInform.id,"agentUser.agentChildAuthArea":this.infoInform.agentChildAuthArea};a.pageNo=this.page,a.pageSize=this.pageSize,a.schoolName=this.searchSchoolName,a.agentChildAccount=this.infoInform.agentChildAccount,a.userCenterIdDing=this.infoInform.userCenterId,2==~~this.$route.meta.type&&(a.type=999),r.a.getschoolName(a,function(o){o.data?(o.flag?(o.data.list.forEach(function(t){t.schoolPicture?t.schoolPicture.indexOf("?")>-1?t.schoolPicture=t.schoolPicture+"|imageView/1/w/160/h/160":t.schoolPicture=t.schoolPicture+"?imageView/1/w/160/h/160":t.schoolPicture=s("et/q")}),e.list=t?o.data.list:e.list.concat(o.data.list),e.delayLoad=!1,e.page++,o.data.list.length<=e.pageSize-1&&(e.delayLoad=!0,e.$refs.loading.change())):e.$refs.loading.change(),e.switch=!0):Object(l.g)("接口错误",o,a)})}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"flex"},[a("m-header",{attrs:{headerTitle:"选择学校"},on:{backClick:t.handleClose}}),t._v(" "),a("div",{staticClass:"search"},[a("div",{staticClass:"search_school"},[a("img",{attrs:{src:s("4Fmw"),alt:""}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchSchoolName,expression:"searchSchoolName"}],ref:"content",attrs:{id:"searchSchool",type:"text",placeholder:"输入学校名称关键字搜索"},domProps:{value:t.searchSchoolName},on:{input:function(e){e.target.composing||(t.searchSchoolName=e.target.value)}}})])])],1),t._v(" "),a("mt-loadmore",{ref:"loadmore",staticClass:"main",attrs:{"top-method":t.loadTop,topLoadingText:"正在刷新..."},on:{"top-status-change":t.handleTopChange}},[a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-distance":"100","infinite-scroll-immediate-check":!0}},[t._l(t.list,function(e){return a("ul",{key:e.id,staticClass:"main-list",on:{click:function(s){return s.preventDefault(),t.selectSchool(e.id,e.schoolType,e.schoolName)}}},[a("li",{staticClass:"first"},[a("img",{staticClass:"logo",attrs:{src:e.schoolPicture&&e.schoolPicture.length?e.schoolPicture:t.defaultImg,alt:""}}),t._v(" "),a("div",{staticClass:"right-content"},[a("div",{staticClass:"right-content-top",class:"禁用"==e.isFlagStr?"forbid":""},[a("span",[t._v(t._s(e.schoolNumber))]),t._v(" "),a("span",[t._v(t._s(e.schoolName))])]),t._v(" "),a("div",{staticClass:"right-content-top right-content-bottom",class:"禁用"==e.isFlagStr?"forbid":""},[a("span",[t._v(t._s(e.linkMan))]),t._v(" "),a("span",[t._v(t._s(e.address))])])]),t._v(" "),"禁用"==e.isFlagStr&&"自主注册园"!==e.schoolType?a("img",{staticClass:"right-top",attrs:{src:s("JITG"),alt:""}}):"禁用"==e.isFlagStr&&"自主注册园"==e.schoolType?a("img",{staticClass:"right-top",attrs:{src:s("mu+b"),alt:""}}):a("img",{staticClass:"right-top",staticStyle:{display:"none"},attrs:{src:"",alt:""}})]),t._v(" "),a("li",{staticClass:"art-second",class:"禁用"==e.isFlagStr?"forbid":""},[a("span",{staticClass:"art-bg"},[t._v(t._s(e.schoolType))]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!!e.schoolActivationLevel,expression:"item.schoolActivationLevel?true:false"}],staticClass:"art-bg"},[t._v("激活"+t._s(e.schoolActivationLevel))]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!!e.schoolActiveLevel,expression:"item.schoolActiveLevel?true:false"}],staticClass:"art-bg"},[t._v("活跃"+t._s(e.schoolActiveLevel)+"级")])])])}),t._v(" "),a("v-loading",{ref:"loading",attrs:{loadingFlag:!0}})],2)])],1)},staticRenderFns:[]},p=s("VU/8")(u,g,!1,null,null,null);e.default=p.exports},"mu+b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAMAAABG8BK2AAAAolBMVEUAAADx8fHx8fH09PT29vbw8PDw8PDy8vLy8vLz8/Px8fHx8fHw8PDx8fHx8fHy8vLy8vLy8vL09PTy8vL29vbw8PDx8fHx8fHx8fHx8fHx8fHx8fHw8PC+vsDt7e3v7+/n5+i7u73p6erNzc7Jycvr6+vExMbJycrLy8zDw8TAwMLb29zk5OXV1dbT09TGxsjBwcPh4eLX19jR0dLe3t/Z2dkM4hpQAAAAHHRSTlMA+usrIPbzW1NB7+fj3HZjTDoxJRvgb2pHNnx/ja+/4QAAAfdJREFUWMOt0tmaojAQBeAz+77vM5VAgaDAgAr6/q/Wia1A7AaC1Lng8v/qnIB/JBHgrwgj48DkowAj40DGgYyDc34uZGQcyDjo8otGEwQTjJ/TbEYceDthPuLAyadbHfg4xUpPOPBxouzeKXnIwQyn5mroHjzIqyGn4WKwF7wdpfbD++Ax5wldR1eKtyM7Y9zZq029PxwbpY6XncNy6pqHTlRvFLNK64RCxfcOeTN43euV2BJGWdl7Bplp56wE1Do6DqeZznEVujh6zcp14OVEVrGJqpOyC2PXgZcTp90jWyWiwHUwks+tU+10T+EsoSsHXo7eppqSis6N1qlxyv4+8HWyKre/cbQ1jbRxSi5698DXifMysH81r7U9SXHR74WJ/O69V3CIuYlS61S8c/bBpPOiZRRv90SJcUo+ruw+Os+ClvF1isR8rJOZRto45pr/5MngjXGcVGzezTqbi0KY75Rcn/bRqlUIsx3z0qd9ukaW8XNeOgpZp68Q5jqFUaxjG81m8KW7JwiJnEaWme8cVHitEG5wYs6vFMIM5217TxPRzQz+GGcgkHEg42Bevj4dYGQcyDiQcTA/zx5xIONAxoGMgxuddxKMdUQYfHMcyDhY4LzvMTIOluR560DGwULnR8tIOJBxsNz5IMLgu3Eg40DGgYxzByKDE3pkn0VVAAAAAElFTkSuQmCC"}});